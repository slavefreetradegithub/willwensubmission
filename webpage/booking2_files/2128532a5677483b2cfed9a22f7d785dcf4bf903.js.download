var _i_ = this._i_ || function() {}, _r_ = this._r_ || function(t) {
return t;
};

booking.env.enable_scripts_tracking && (booking.env.scripts_tracking.atlas = {
loaded:!0,
run:!1
}), function() {
"use strict";
_i_("d0b:1");
var t = "Atlas/";
function e(e) {
return _i_("d0b:63"), _r_(t + e);
}
function r(t, r) {
_i_("d0b:64");
var i = [].slice.call(arguments, 0);
return "string" == typeof t ? i[0] = e(t) :Array.isArray(t) ? i[0] = t.map(e) :Array.isArray(r) && (i[1] = t.map(e)), _r_(B.require.apply(this, i));
}
function i(t, r) {
_i_("d0b:65");
var i = [].slice.call(arguments, 0);
i[0] = e(t), Array.isArray(r) && (i[1] = r.map(e)), B.define.apply(this, i), _r_();
}
B.atlas = {
requirejs:r,
require:r,
define:i
}, _r_();
}(), B.atlas.define("jQuery", function() {
return _i_("d0b:2"), _r_(B.require("jquery"));
}), B.atlas.define("util-array", function() {
"use strict";
_i_("d0b:3");
function t(t) {
if (_i_("d0b:66"), !Array.isArray) return _r_("[object Array]" === Object.prototype.toString.call(t));
return _r_(Array.isArray(t));
}
function e(e, r) {
_i_("d0b:67");
var i, n, o;
if (!t(e)) return _r_(o);
if (Array.prototype.find) return _r_(e.find(r));
for (i = 0, n = e.length; n > i; i++) if (r.call(e, e[i], i, e)) return _r_(e[i]);
return _r_(o);
}
function r(e, r) {
_i_("d0b:68");
var i, n;
if (!t(e)) return _r_(-1);
if (Array.prototype.findIndex) return _r_(e.findIndex(r));
for (i = 0, n = e.length; n > i; i++) if (r.call(e, e[i], i, e)) return _r_(i);
return _r_(-1);
}
function i(e, r, i) {
_i_("d0b:69");
var n, o;
if (!t(e)) return _r_(e);
if (e.forEach) e.forEach(function(t, e, n) {
_i_("d0b:512"), r.call(i, t, e, n), _r_();
}); else for (n = 0, o = e.length; o > n; ++n) r.call(i, e[n], n, e);
return _r_(e);
}
function n(t, e) {
_i_("d0b:70");
var i = r(t, function(t) {
return _i_("d0b:481"), _r_(t === e);
});
return _r_(i > -1 ? !0 :!1);
}
return _r_({
each:i,
find:e,
findIndex:r,
isArray:t,
contains:n
});
}), B.atlas.define("util-getset", function() {
"use strict";
_i_("d0b:4");
function t(t) {
_i_("d0b:71"), this.set = function(e, r) {
if (_i_("d0b:369"), e) return t[e] = r, _r_(r);
return _r_(void 0);
}, this.get = function(e) {
return _i_("d0b:370"), _r_(e ? t[e] :void 0);
}, _r_();
}
return _r_(t);
}), B.atlas.define("util-object", function() {
"use strict";
_i_("d0b:5");
var t = 0;
function e(t) {
_i_("d0b:72");
var e = typeof t;
return _r_("function" === e || "object" === e && !!t);
}
function r(t) {
_i_("d0b:73");
var r, i, n, o, _ = [].slice.call(arguments, 0);
if (!e(t)) return _r_(t);
for (n = 1, o = _.length; o > n; ++n) {
r = _[n];
for (i in r) "undefined" != typeof r[i] && (t[i] = r[i]);
}
return _r_(t);
}
function i(e) {
return _i_("d0b:74"), _r_(e ? e + ++t :++t + "");
}
return _r_({
extend:r,
isObject:e,
uniqueId:i
});
}), B.atlas.define("debug", [ "util-env" ], function(t) {
"use strict";
_i_("d0b:6");
function e(t, e) {
_i_("d0b:75");
var r = e.get("boundingBox");
if (!r) return _r_();
B.atlas.require([ "polygons" ], function(t) {
_i_("d0b:371"), t.createPolygon.call(e, {
clickable:!1,
fillColor:"#ff0000",
fillOpacity:.1,
strokeColor:"#ff0000",
strokeOpacity:.5,
strokeWeight:1,
paths:[ r.ne, [ r.sw[0], r.ne[1] ], r.sw, [ r.ne[0], r.sw[1] ] ]
}), console.debug("Original Bounding Box", r), _r_();
}), _r_();
}
function r(t) {
_i_("d0b:76"), t.hideDebugBBox || t.on(t.EVENTS.LOAD, e, t), _r_();
}
function i() {
_i_("d0b:77");
var e = this;
if (!t.get("debug") || !console) return _r_();
e.logEvents(!0), r(e), _r_();
}
return _r_({
init:i
});
}), B.atlas.define("atlas", [ "jQuery", "pubsub", "geometry.point" ], function(t, e, r, i) {
"use strict";
_i_("d0b:7");
var n = {
options:{
center:[ 0, 0 ],
zoom:8,
isTrackingGoals:!1
},
modules:[ "center", "options", "debug" ]
}, o = B.require("promise");
function _(i) {
_i_("d0b:78");
var _, s, a = i.provider || "provider-google", d = i.modules ? t.merge(i.modules, n.modules) :n.modules, c = this;
c.hasLoaded = !1, c.options = t.extend({}, n.options, i.options || {}), t.extend(c, new e(c)), _ = new o(function(t) {
_i_("d0b:482"), c.once(c.EVENTS.MARKERS_READY, t), _r_();
}), s = new o(function(t) {
_i_("d0b:483"), c.once(c.EVENTS.TILES_LOAD, t), _r_();
}), o.all([ _, s ]).then(function() {
_i_("d0b:372"), c.trigger(c.EVENTS.LOAD), _r_();
}), c.trigger(c.EVENTS.PRE_INIT), c.$domNode = t(i.options.domNode), c.options.isTrackingGoals && d.push("goals"), B.atlas.require(d, function() {
_i_("d0b:373");
var e, i, n, o = [].slice.call(arguments, 0);
for (e = 0, i = o.length; i > e; ++e) n = o[e], n && n.init ? n.init.call(c) :t.extend(c, n);
c.options.markersURL && c.setMarkersURL(c.options.markersURL), c.trigger(c.EVENTS.API_BEFORE_LOAD), c.set("offset", new r(0, 0)), c.readyPromise = B.atlas.require(a).init(c, c.options).then(function(t) {
_i_("d0b:559"), setTimeout(function() {
_i_("d0b:584"), c.hasLoaded = !0, c.Interface = t, c.trigger(c.EVENTS.READY, c), _r_();
}, 4), _r_();
}), _r_();
}), _r_();
}
return _.prototype.set = function(t, e) {
if (_i_("d0b:315"), t) return this.options[t] = e, _r_(e);
return _r_(i);
}, _.prototype.get = function(t) {
return _i_("d0b:316"), _r_(t ? this.options[t] :i);
}, _.prototype.done = function(t) {
_i_("d0b:317"), this.hasLoaded ? t.call(this) :this.on(this.EVENTS.READY, t), _r_();
}, _r_(_);
}), B.atlas.define("atlas-places", [ "pubsub", "util-getset", "util-object", "util-array" ], function(t, e, r, i) {
"use strict";
_i_("d0b:8");
var n = {};
function o(t, e) {
_i_("d0b:79");
var r;
r = document.createElement("div"), r.className = "places-results", t.appendChild(r), e.set("resultsNode", r), r = document.createElement("div"), r.className = "places-attribution", t.appendChild(r), e.set("attributionNode", r), _r_();
}
function _(i) {
_i_("d0b:80");
var o = this, _ = i.provider || "provider-places", s = i.modules || [], a = {};
if (r.extend(a, n, i.options), r.extend(o, e.call(o, a)), r.extend(o, t.call(o)), !i.options || !i.options.domNode) return _r_();
o.trigger("pre-init"), o.initialize(_, s, a), _r_();
}
return _.prototype.initialize = function(t, e, n) {
_i_("d0b:318");
var _ = this, s = _.get("isInitialized"), a = this.get("domNode");
if (s) return _r_(!1);
o(a, _), e.unshift(t), B.atlas.require(e, function(t) {
_i_("d0b:513"), i.each([].slice.call(arguments, 1), function(t) {
_i_("d0b:567"), t && t.init ? t.init.call(_) :t && r.extend(_, t), _r_();
}), _.trigger("api-before-load"), t.init(_, n, function(t) {
_i_("d0b:568"), setTimeout(function() {
_i_("d0b:586"), _.set("hasLoaded", !0), _.Interface = t, _.trigger("ready", _), _r_();
}, 4), _r_();
}), _r_();
}), _.set("isInitialized", !0), _r_();
}, _.prototype.done = function(t) {
_i_("d0b:319"), this.get("hasLoaded") ? t.call(this) :this.on("ready", t), _r_();
}, _r_(_);
}), B.atlas.define("pubsub", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:9");
var e;
e = {
API_BEFORE_LOAD:"api-before-load",
API_LOADED:"api-loaded",
BOUNDS_CHANGE:"bounds-change",
CLOSE:"close",
DRAG_END:"drag-end",
DRAG_START:"drag-start",
IDLE:"idle",
IW_OPEN:"iw-open",
IW_CLOSE:"iw-close",
IW_BEFORE_GET:"iw-get-before",
IW_GET_SUCCESS:"iw-get-success",
IW_GET_FAIL:"iw-get-fail",
LOAD:"load",
CLICK:"click",
MARKER_CLICK:"marker-click",
MARKER_HOVER:"marker-hover",
MARKER_OUT:"marker-out",
MARKERS_GET_BEFORE:"markers-get-before",
MARKERS_GET_SUCCESS:"markers-get-success",
MARKERS_GET_FAIL:"markers-get-fail",
MARKERS_GET_NO_DATA:"markers-get-no-data",
MARKERS_RENDERED:"markers-rendered",
MARKERS_READY:"markers-ready",
OFFSET_CHANGE:"offset-change",
OPEN:"open",
POLYGON_CLICK:"polygon-click",
PRE_INIT:"pre-init",
READY:"ready",
RESIZE:"resize",
TILES_LOAD:"tiles-loaded",
ZOOM:"zoom",
GOOGLE_MAPTYPE_CHANGE:"google-map-type-change"
};
function r(r) {
_i_("d0b:81");
var i = !1, n = {}, o = {};
function _(t) {
_i_("d0b:320"), i && console.log("Atlas event: " + t), _r_();
}
function s(e, i) {
_i_("d0b:321");
var s = this, a = [];
i = i || null, _(e), n.hasOwnProperty(e) && (t.each(n[e], function(t, r) {
_i_("d0b:542"), r.handler.call(s, i, r.args, e), r.once && a.push([ e, r.handler ]), _r_();
}), t.each(a, function(t, e) {
_i_("d0b:543"), c(e[0], e[1]), _r_();
})), r && B.atlas.track(e, r.get("id")), o.hasOwnProperty(e) && t.each(o[e], function(t, r) {
_i_("d0b:544"), r.handler.call(s, i, r.args, e), _r_();
}), _r_();
}
function a(e, r, i, _) {
_i_("d0b:322"), e = e && "string" == typeof e ? [ e ] :e, t.each(e, function(t, e) {
_i_("d0b:514"), _ ? (o[e] = o[e] || [], o[e].push({
handler:r,
args:i || null
})) :(n[e] = n[e] || [], n[e].push({
handler:r,
args:i || null
})), _r_();
}), _r_();
}
function d(e, r, i) {
_i_("d0b:323"), e = e && "string" == typeof e ? [ e ] :e, t.each(e, function(t, e) {
_i_("d0b:515"), n[e] = n[e] || [], n[e].push({
handler:r,
args:i || null,
once:!0
}), _r_();
}), _r_();
}
function c(e, r) {
_i_("d0b:324"), !n.hasOwnProperty(e) || r && r !== !0 ? n.hasOwnProperty(e) && (n[e] = t.grep(n[e], function(t) {
return _i_("d0b:569"), _r_(t.handler !== r);
})) :n[e] = [], _r_();
}
function l() {
_i_("d0b:325"), n = {}, _r_();
}
function u(t) {
return _i_("d0b:326"), _r_(n[t] || []);
}
function h() {
_i_("d0b:327");
var e = [];
return t.each(n, function(t) {
_i_("d0b:516"), e.push(t), _r_();
}), _r_(e);
}
function g(t) {
return _i_("d0b:328"), i = t, _r_(i);
}
return _r_({
EVENTS:e,
trigger:s,
on:a,
once:d,
off:c,
destroyAllBindings:l,
getSubscribers:u,
getEvents:h,
logEvents:g
});
}
return _r_(r);
}), jQuery.extend(B.atlas, function(t, e) {
"use strict";
_i_("d0b:62");
var r = null, i = {};
function n() {
_i_("d0b:307"), r = null, _r_();
}
function o() {
_i_("d0b:308");
var i = e.atlas.SUBSCRIPTIONS;
if (r = {}, !i || !e.jst) return _r_();
t.each(i, function(i, n) {
_i_("d0b:484"), t.each(n, function(t, n) {
_i_("d0b:560");
try {
n.name && n.cond && (r[n.name] = e.et.track(n.name));
} catch (o) {
var _ = "Atlas event " + i + ": has invalid subscriptions. Maybe trailing comma?";
throw new Error(_);
}
_r_();
}), _r_();
}), _r_();
}
function _(t) {
if (_i_("d0b:309"), r || o(), r.hasOwnProperty(t)) return _r_(r[t]);
return _r_(!1);
}
function s(t, r) {
_i_("d0b:310");
var i = e.atlas.SUBSCRIPTIONS;
if (!i || !t || !i.hasOwnProperty(t)) return _r_(!1);
i[t].forEach(function(t) {
_i_("d0b:485"), _(t.name) === !1 || t.touched || r !== t.instanceId || (t.stage ? e.et.stage(t.name, t.stage) :e.et.track(t.name), t.touched = !0), _r_();
}), _r_();
}
function a(t, r) {
_i_("d0b:311");
var i = e.atlas.SUBSCRIPTIONS, n = i && i.templates ? i.templates :[];
return n.some(function(i) {
if (_i_("d0b:486"), i.name === t && _(i.name) !== !1) return e.et.stage(i.name, r || i.stage), _r_(!0);
return _r_(!1);
}), _r_(!0);
}
function d(t) {
_i_("d0b:312");
var r = e.atlas.SUBSCRIPTIONS, i = r && r.templates ? r.templates :[];
return i.some(function(r) {
if (_i_("d0b:487"), r.name === t && _(r.name) !== !1) return r.touched || (e.et.track(r.name), r.touched = !0), _r_(!0);
return _r_(!1);
}), _r_(_(t));
}
function c(t) {
return _i_("d0b:313"), _r_(l(t));
}
function l(t) {
_i_("d0b:314");
var r = 0;
if (!e.atlas.SUBSCRIPTIONS_v2) return _r_(r);
if (void 0 !== i[t]) return _r_(i[t]);
return e.atlas.SUBSCRIPTIONS_v2.forEach(function(i) {
_i_("d0b:488"), i.name === t && i.cond && (r = e.et.track(t)), _r_();
}), i[t] = r, _r_(r);
}
return e.when({
events:"load"
}).run(function() {
_i_("d0b:366"), r || o(), _r_();
}), _r_({
clearExperimentsCache:n,
getVariant:_,
track:s,
stageInTemplate:a,
trackInTemplate:d,
trackInTemplate_v2:c,
getVariant_v2:l
});
}(B.require("jquery"), B)), B.atlas.define("geo.bounds", [ "geo.latLng" ], function(t) {
"use strict";
_i_("d0b:10");
function e(e) {
return _i_("d0b:82"), _r_(e instanceof t ? e :new t(e[0] || 0, e[1] || 0));
}
function r(t) {
_i_("d0b:83"), t = e(t);
var r = t.lat, i = t.lng;
if (r > 90) switch (r %= 360, parseInt(r / 90)) {
case 0:
break;

case 1:
r = 90 * parseInt((r + 90) / 90) - r;
break;

case 2:
r = 90 * parseInt(r / 90) - r;
break;

case 3:
r -= 90 * parseInt((r + 90) / 90);
} else if (-90 > r) switch (r %= 360, parseInt(r / 90)) {
case 0:
break;

case -1:
r = 90 * parseInt((r - 90) / 90) - r;
break;

case -2:
r = 90 * parseInt(r / 90) - r;
break;

case -3:
r -= 90 * parseInt((r - 90) / 90);
}
return i > 180 ? i = (i + 180) % 360 - 180 :-180 > i && (i = (i - 180) % 360 + 180), t.lat = r, t.lng = i, _r_(t);
}
function i(t, e) {
_i_("d0b:84"), t && e && (this.extend(t), this.extend(e)), _r_();
}
return i.prototype = {
extend:function(t) {
_i_("d0b:374");
var r = e(t), i = this.sw, n = this.ne;
return i ? (this.sw.set(Math.min(i.lat, r.lat), Math.min(i.lng, r.lng)), this.ne.set(Math.max(n.lat, r.lat), Math.max(n.lng, r.lng))) :(this.sw = r.clone(), this.ne = r.clone()), _r_(this);
},
reset:function() {
_i_("d0b:375"), this.ne = this.sw = null, _r_();
},
getNorthEast:function() {
return _i_("d0b:376"), _r_(this.ne || new t(0, 0));
},
getSouthWest:function() {
return _i_("d0b:377"), _r_(this.sw || new t(0, 0));
},
setNorthEast:function(t) {
_i_("d0b:378"), this.ne = e(t), _r_();
},
setSouthWest:function(t) {
_i_("d0b:379"), this.sw = e(t), _r_();
},
getCenter:function() {
return _i_("d0b:380"), _r_(new t((this.sw.lat + this.ne.lat) / 2, (this.sw.lng + this.ne.lng) / 2));
},
isEmpty:function() {
return _i_("d0b:381"), _r_(!this.sw && !this.ne || this.sw.toString() === this.ne.toString());
},
equals:function(t) {
return _i_("d0b:382"), _r_(t instanceof i ? this.toString() === t.toString() :!1);
},
intersects:function(t) {
_i_("d0b:383");
var e = this.sw, r = this.ne, i = t.sw, n = t.ne, o = n.lat >= e.lat && i.lat <= r.lat, _ = n.lng >= e.lng && i.lng <= r.lng;
return _r_(o && _);
},
union:function(t) {
return _i_("d0b:384"), this.extend(t.getSouthWest()), this.extend(t.getNorthEast()), _r_(this);
},
contains:function(t) {
_i_("d0b:385");
var r, n, o, _;
return t instanceof i ? (r = t.getNorthEast(), n = t.getSouthWest(), o = n.lat >= this.sw.lat && n.lng >= this.sw.lng && r.lat <= this.ne.lat && r.lng <= this.ne.lng) :(n = r = e(t), _ = Math.abs(this.ne.lng - this.sw.lng), o = n.lat >= this.sw.lat && n.lat <= this.ne.lat && (n.lng >= this.sw.lng && n.lng <= this.sw.lng + _ || n.lng <= this.sw.lng && n.lng >= this.ne.lng - _)), _r_(o);
},
toMOMString:function() {
return _i_("d0b:386"), r(this.sw), r(this.ne), _r_([ this.sw.lng, this.sw.lat, this.ne.lng, this.ne.lat ].join(","));
},
toString:function() {
return _i_("d0b:387"), r(this.sw), r(this.ne), _r_([ "SW:", this.sw.toString(), ",", "NE:", this.ne.toString() ].join(" "));
}
}, _r_(i);
}), B.atlas.define("geo.latLng", function() {
"use strict";
_i_("d0b:11");
function t(t, e) {
_i_("d0b:85");
var r;
"string" == typeof t && t.indexOf(",") > 0 ? (r = t.split(","), this.lat = +r[0], this.lng = +r[1]) :"object" == typeof google && google.maps && t instanceof google.maps.LatLng ? (this.lat = +t.lat(), this.lng = +t.lng()) :"[object Array]" === Object.prototype.toString.call(t) ? (this.lat = +t[0], this.lng = +t[1]) :(this.lat = +t || 0, this.lng = +e || 0), _r_();
}
return t.prototype = {
set:function(t, e) {
return _i_("d0b:388"), this.lat = +t, this.lng = +e, _r_(this);
},
clone:function() {
return _i_("d0b:389"), _r_(new t(this.lat, this.lng));
},
toString:function() {
return _i_("d0b:390"), _r_([ "[", this.lat, ",", this.lng, "]" ].join(""));
}
}, _r_(t);
}), B.atlas.define("geo.projection", [ "geometry.point", "geo.latLng" ], function(t, e) {
"use strict";
_i_("d0b:12");
var r = 6378137, i = .5 / (Math.PI * r), n = Math.PI / 180, o = 180 / Math.PI;
function _(t) {
return _i_("d0b:86"), _r_(t * n);
}
function s(t) {
return _i_("d0b:87"), _r_(t * o);
}
function a(t, e) {
_i_("d0b:88");
var i = t, n = e, o = _(n.lat - i.lat), s = _(n.lng - i.lng), a = Math.sin(o / 2) * Math.sin(o / 2) + Math.cos(_(i.lat)) * Math.cos(_(n.lat)) * Math.sin(s / 2) * Math.sin(s / 2);
return _r_(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)) * r);
}
function d(t) {
return _i_("d0b:89"), _r_(256 * Math.pow(2, t));
}
function c(e) {
return _i_("d0b:90"), _r_(new t(r * e.lng * n, r * Math.log(Math.tan(Math.PI / 4 + e.lat * n / 2))));
}
function l(t) {
return _i_("d0b:91"), _r_(new e((2 * Math.atan(Math.exp(t.y / r)) - Math.PI / 2) * o, t.x * o / r));
}
function u(e, r) {
_i_("d0b:92");
var n = d(r) || 1, o = c(e);
return _r_(new t(n * i * o.x, n * -i * o.y));
}
function h(e, r) {
_i_("d0b:93");
var n = d(r) || 1, o = new t(e.x / n / i, e.y / n / -i);
return _r_(l(o));
}
return _r_({
toRadians:_,
toDegrees:s,
getScale:d,
getDistance:a,
latLngToPoint:u,
pointToLatLng:h
});
}), B.atlas.define("geo.view", [ "geo.projection", "geo.bounds", "geo.latLng", "geometry.point" ], function(t, e, r, i) {
"use strict";
_i_("d0b:13");
var n = 1, o = 18;
function _(t, r, i) {
_i_("d0b:94"), this.zoom = !1, this.width = +t, this.height = +r, this.bounds = i instanceof e ? i :new e(), _r_();
}
return _.prototype = {
extend:function(t) {
return _i_("d0b:391"), this.bounds.extend(t), this.zoom = !1, _r_(this);
},
extrapolate:function(e, n) {
_i_("d0b:392");
var o = new r(e), _ = t.latLngToPoint(o, n), s = new i(this.width / 2, this.height / 2), a = new i(_.x + s.x, _.y - s.y), d = new i(_.x - s.x, _.y + s.y);
return this.setNorthEast(t.pointToLatLng(a, n)), this.setSouthWest(t.pointToLatLng(d, n)), _r_(this);
},
getCenter:function(e) {
_i_("d0b:393");
var r, i = this.bounds.getCenter(), n = this.getZoom();
return e && (r = t.latLngToPoint(i, n).subtract(e), i = t.pointToLatLng(r, n)), _r_(i);
},
getNorthWest:function() {
_i_("d0b:394");
var e = this.bounds.getCenter(), r = this.getZoom(), n = new i(this.width / 2, this.height / 2), o = t.latLngToPoint(e, r), _ = o.subtract(n);
return _r_(t.pointToLatLng(_, r));
},
getSouthEast:function() {
_i_("d0b:395");
var e = this.bounds.getCenter(), r = this.getZoom(), n = new i(this.width / 2, this.height / 2), o = t.latLngToPoint(e, r), _ = o.add(n);
return _r_(t.pointToLatLng(_, r));
},
setNorthEast:function(t) {
_i_("d0b:396"), this.bounds.setNorthEast(t), _r_();
},
setSouthWest:function(t) {
_i_("d0b:397"), this.bounds.setSouthWest(t), _r_();
},
getZoom:function(e, i) {
_i_("d0b:398");
var _, s, a = e || n, d = !0, c = this.bounds.getNorthEast(), l = this.bounds.getSouthWest(), u = new r(c.lat, l.lng), h = new r(l.lat, c.lng);
if (!this.zoom) {
for (i = i || o; d && a++ < i; ) _ = t.latLngToPoint(u, a), s = t.latLngToPoint(h, a).subtract(_), d = parseInt(s.x, 10) <= this.width && parseInt(s.y, 10) <= this.height;
this.zoom = Math.max(e || n, a - 1);
}
return _r_(this.zoom);
},
getZoomBySmarterFit:function(e, i) {
_i_("d0b:399");
var _, s, a = e || n, d = 0, c = !1, l = n, u = this.bounds.getNorthEast(), h = this.bounds.getSouthWest(), g = new r(u.lat, h.lng), f = new r(h.lat, u.lng);
for (i = i || o; !c && a++ < i; ) {
_ = t.latLngToPoint(g, a), s = t.latLngToPoint(f, a).subtract(_);
var p = parseInt(s.x, 10), b = parseInt(s.y, 10), m = Math.min(p, this.width) * Math.min(b, this.height), v = this.width * this.height + p * b - m, y = m / v;
y >= d ? (l = a, d = y) :c = !0;
}
return this.zoom = Math.max(e || n, l), _r_(this.zoom);
},
latLngToPixel:function(e) {
_i_("d0b:400");
var r = this.getZoom(), i = t.latLngToPoint(this.getNorthWest(), r);
return _r_(t.latLngToPoint(e, r).subtract(i));
},
pixelToLatLng:function(e) {
_i_("d0b:401");
var r = this.getZoom(), i = t.latLngToPoint(this.getNorthWest(), r);
return _r_(t.pointToLatLng(e.add(i), r));
},
getDistance:function(e, r) {
return _i_("d0b:402"), _r_(t.getDistance(e, r));
},
toString:function() {
return _i_("d0b:403"), _r_(this.bounds.toString());
}
}, _r_(_);
}), B.atlas.define("geometry.point", function() {
"use strict";
_i_("d0b:14");
function t(t, e) {
_i_("d0b:95"), this.x = +t, this.y = +e, _r_();
}
return t.prototype = {
set:function(t, e) {
return _i_("d0b:404"), this.x = +t, this.y = +e, _r_(this);
},
clone:function() {
return _i_("d0b:405"), _r_(new t(this.x, this.y));
},
add:function(e) {
return _i_("d0b:406"), _r_(new t(this.x + e.x, this.y + e.y));
},
subtract:function(e) {
return _i_("d0b:407"), _r_(new t(this.x - e.x, this.y - e.y));
},
toString:function() {
return _i_("d0b:408"), _r_([ "[", this.x, ",", this.y, "]" ].join(""));
}
}, _r_(t);
}), B.atlas.define("icons-default", [ "util-object" ], function(t) {
"use strict";
_i_("d0b:15");
var e, r = "//s-ec.bstatic.com/static/img/map_sprites_omnibus_mk3/e3b6aedd86458d97669b69c59cd62d96972b68f3.png", i = {
url:r,
w:18,
h:27,
x:33,
y:33,
z:110
};
function n(e) {
return _i_("d0b:96"), _r_(t.extend({}, i, e));
}
e = {
hotel:n({}),
hotel_soldout:n({}),
hotel_matching:n({
x:0,
z:110
}),
hotel_not_matching:n({
x:17,
z:100
}),
genius:n({
x:136,
z:120
}),
city:n({
x:118,
z:60
}),
landmark:n({
x:51,
z:80
}),
airport:n({
x:102,
z:90
}),
transport:n({
x:68,
z:70
}),
ski_lift:n({
x:85,
z:70
}),
hotel_current:n({
w:22,
h:36,
x:198,
y:60,
z:2e3
}),
hotel_soldout_current:n({
w:22,
h:36,
x:198,
y:60,
z:2e3
}),
genius_current:n({
w:22,
h:36,
x:176,
y:60,
z:130
}),
city_current:n({
w:22,
h:36,
x:154,
y:60,
z:65
}),
airport_current:n({
w:22,
h:36,
x:132,
y:60,
z:95
}),
landmark_current:n({
w:22,
h:36,
x:66,
y:60,
z:85
}),
transport_current:n({
w:22,
h:36,
x:88,
y:60,
z:75
}),
ski_lift_current:n({
w:22,
h:36,
x:110,
y:60,
z:75
}),
"default":n({})
};
function o(t) {
return _i_("d0b:97"), _r_(t && e.hasOwnProperty(t) ? e[t] :e["default"]);
}
function _(e) {
_i_("d0b:98");
var r = {}, i = o(e);
switch (!0) {
case "genius" === e:
case "city" === e:
case "landmark" === e:
case "airport" === e:
case "transport" === e:
case "ski_lift" === e:
case "genius_current" === e:
case "city_current" === e:
case "airport_current" === e:
case "landmark_current" === e:
case "transport_current" === e:
case "ski_lift_current" === e:
r = i;
break;

case e && e.indexOf("_current") > -1:
t.extend(r, i, {
x:198,
y:60,
z:2e3
});
break;

default:
t.extend(r, i, {
x:153,
y:33,
z:2e3
});
}
return _r_(r);
}
return _r_({
ICONS:e,
getIcon:o,
getHover:_
});
}), B.atlas.define("autocomplete", function() {
"use strict";
_i_("d0b:16");
function t(t, e, r) {
_i_("d0b:99"), this.Interface.autocomplete(t, e, r), _r_();
}
return _r_({
autocomplete:t
});
}), B.atlas.define("bounds", [ "geo.view", "geo.bounds" ], function(t, e) {
"use strict";
_i_("d0b:17");
function r() {
return _i_("d0b:100"), _r_(this.Interface.getBoundingBox());
}
function i() {
_i_("d0b:101");
var t = new e(), r = this.getBoundingBox();
if (!r) throw "Bounds is undefined, wait until 'bounds-changed' event is fired before calling getBounds()";
return t.setNorthEast(r.NE), t.setSouthWest(r.SW), _r_(t);
}
function n(r) {
_i_("d0b:102");
var i = this.$domNode, n = r instanceof e ? r :new e(r.sw, r.ne), o = this.get("offset"), _ = i.width() - Math.abs(o.x), s = i.height() - Math.abs(o.y), a = new t(_, s, n);
return _r_({
center:a.getCenter({
x:o.x / 2,
y:o.y / 2
}),
zoom:a.getZoom()
});
}
function o() {
_i_("d0b:103");
var r, i = this.$domNode, n = i.width(), o = i.height(), _ = this.Interface.getBoundingBox(), s = new e();
return _ ? (s.setNorthEast(_.NE), s.setSouthWest(_.SW)) :(r = new t(n, o), r.extrapolate(this.getCenter(), this.getZoom()), s.setNorthEast([ r.getSouthEast().lat, r.getNorthWest().lng ]), s.setSouthWest([ r.getNorthWest().lat, r.getSouthEast().lng ])), _r_(new t(n, o, s));
}
function _(r) {
_i_("d0b:104");
var i, n = this.$domNode, o = this.get("offset"), _ = n.width() - Math.abs(o.x), s = n.height() - Math.abs(o.y);
if (!r instanceof e) return _r_();
i = new t(_, s, r), this.Interface.setCenter(i.getCenter({
x:o.x / 2,
y:o.y / 2
})), this.Interface.setZoom(i.getZoom()), _r_();
}
function s(t) {
_i_("d0b:105");
for (var r, i = new e(), n = t.length; n--; ) i.extend(t[n]);
r = this.defineBounds(i), this.Interface.setCenter(r.center), this.Interface.setZoom(r.zoom), _r_();
}
return _r_({
getBounds:i,
getBoundingBox:r,
setBoundingBox:s,
setBounds:_,
defineBounds:n,
getViewFromMap:o
});
}), B.atlas.define("center", function() {
"use strict";
_i_("d0b:18");
function t() {
return _i_("d0b:106"), _r_(this.Interface.getCenter(this.get("offset")));
}
function e(t, e) {
return _i_("d0b:107"), _r_(this.Interface.panBy(t, e));
}
function r() {
_i_("d0b:108"), this.Interface && "function" == typeof this.Interface.resize && this.Interface.resize(), _r_();
}
function i(t) {
_i_("d0b:109"), this.Interface.setCenter(t, this.get("offset")), _r_();
}
function n(t) {
_i_("d0b:110"), this.Interface.panTo(t, this.get("offset")), _r_();
}
return _r_({
getCenter:t,
panBy:e,
panTo:n,
resize:r,
setCenter:i
});
}), B.atlas.define("circles", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:19");
var e = {
paths:[],
clickable:!0,
fillColor:"#0896ff",
fillOpacity:.1,
strokeColor:"#003580",
strokeOpacity:.7,
strokeWeight:3
};
function r(r) {
_i_("d0b:111");
var i, n = e, o = r.style && r.style.hover && r.style["default"];
return o && (n = t.extend({}, n, r.style["default"])), i = new this.Interface.Circle(t.extend({}, n, r), this.Interface), i.on("mouseover", function(t) {
_i_("d0b:545"), "function" == typeof r.mouseover && r.mouseover.call(this, t), o && i.setOptions(r.style.hover), _r_();
}).on("mouseout", function(t) {
_i_("d0b:517"), "function" == typeof r.mouseout && r.mouseout.call(this, t), o && i.setOptions(r.style["default"]), _r_();
}).on("click", function(t) {
_i_("d0b:409"), "function" == typeof r.click && r.click.call(this, t), _r_();
}), _r_(i);
}
return _r_({
createCircle:r
});
}), B.atlas.define("goals", [ "jQuery", "util-env" ], function(t, e) {
"use strict";
_i_("d0b:20");
var r, i, n = "hotel" === e.get("action"), o = "searchresults" === e.get("action"), _ = {}, s = {
atlas_hp_open:!0,
atlas_hp_close:!0,
atlas_hp_bounce:!0,
atlas_hp_hover_bounce:!0,
atlas_sr_open:!0,
atlas_sr_close:!0,
atlas_sr_bounce:!0,
atlas_sr_hover_bounce:!0
}, a = t.extend({}, s, {
atlas_hp_hover_ufi:!0,
atlas_hp_hover_property:!0,
atlas_hp_hover_airport:!0,
atlas_sr_hover_ufi:!0,
atlas_sr_hover_property:!0,
atlas_sr_hover_airport:!0
});
r = [ {
evt:"load",
name:"atlas_hp_open",
condition:n
}, {
evt:"load",
name:"atlas_sr_open",
condition:o
}, {
evt:"close",
name:"atlas_hp_close",
condition:n
}, {
evt:"close",
name:"atlas_sr_close",
condition:o
}, {
evt:"marker-click",
name:"atlas_hp_click_property",
condition:n,
filter:function(t) {
return _i_("d0b:489"), _r_(/hotel/.test(t.type));
}
}, {
evt:"marker-click",
name:"atlas_sr_click_property",
condition:o,
filter:function(t) {
return _i_("d0b:490"), _r_(/hotel/.test(t.type));
}
}, {
evt:"marker-click",
name:"atlas_hp_click_ufi",
condition:n,
filter:function(t) {
return _i_("d0b:491"), _r_(/city/.test(t.type));
}
}, {
evt:"marker-click",
name:"atlas_sr_click_ufi",
condition:o,
filter:function(t) {
return _i_("d0b:492"), _r_(/city/.test(t.type) && !/vpm/.test(t.type));
}
}, {
evt:"marker-click",
name:"atlas_sr_click_airport",
condition:o,
filter:function(t) {
return _i_("d0b:493"), _r_(/airport/.test(t.type));
}
}, {
evt:"marker-hover-triggered",
name:"atlas_hp_hover_property",
condition:n,
filter:function(t) {
return _i_("d0b:494"), _r_(/hotel/.test(t.type));
}
}, {
evt:"marker-hover-triggered",
name:"atlas_sr_hover_property",
condition:o,
filter:function(t) {
return _i_("d0b:495"), _r_(/hotel/.test(t.type));
}
}, {
evt:"marker-hover-triggered",
name:"atlas_hp_hover_ufi",
condition:n,
filter:function(t) {
return _i_("d0b:496"), _r_(/city/.test(t.type));
}
}, {
evt:"marker-hover-triggered",
name:"atlas_sr_hover_ufi",
condition:o,
filter:function(t) {
return _i_("d0b:497"), _r_(/city/.test(t.type));
}
}, {
evt:"marker-hover-triggered",
name:"atlas_sr_hover_airport",
condition:o,
filter:function(t) {
return _i_("d0b:498"), _r_(/airport/.test(t.type));
}
}, {
evt:"filters-applied",
name:"atlas_sr_map_filter",
condition:o
}, {
evt:"zoom",
name:"atlas_sr_zoom_in",
condition:o,
filter:function() {
_i_("d0b:499");
var t = this.getZoom();
if (t > i) return i = t, _r_(!0);
_r_();
}
}, {
evt:"zoom",
name:"atlas_sr_zoom_out",
condition:o,
filter:function() {
_i_("d0b:500");
var t = this.getZoom();
if (i > t) return i = t, _r_(!0);
_r_();
}
}, {
evt:"zoom",
name:"atlas_hp_zoom_in",
condition:n,
filter:function() {
_i_("d0b:501");
var t = this.getZoom();
if (t > i) return i = t, _r_(!0);
_r_();
}
}, {
evt:"zoom",
name:"atlas_hp_zoom_out",
condition:n,
filter:function() {
_i_("d0b:502");
var t = this.getZoom();
if (i > t) return i = t, _r_(!0);
_r_();
}
}, {
evt:"drag-start",
name:"atlas_sr_panned",
condition:o
}, {
evt:"drag-start",
name:"atlas_hp_panned",
condition:n
}, {
evt:"close",
name:"atlas_sr_bounce",
condition:o,
filter:function() {
return _i_("d0b:503"), _r_(d(s));
}
}, {
evt:"close",
name:"atlas_hp_bounce",
condition:n,
filter:function() {
return _i_("d0b:504"), _r_(d(s));
}
}, {
evt:"close",
name:"atlas_sr_hover_bounce",
condition:o,
filter:function() {
return _i_("d0b:505"), _r_(d(a));
}
}, {
evt:"close",
name:"atlas_hp_hover_bounce",
condition:n,
filter:function() {
return _i_("d0b:506"), _r_(d(a));
}
}, {
evt:"markers-ready",
name:"atlas_sr_no_results_in_view",
condition:o,
filter:function() {
if (_i_("d0b:507"), !this.getHotelMarkersInBounds) return _r_(!1);
return _r_(0 === this.getHotelMarkersInBounds().length);
}
}, {
evt:"marker-click",
name:"atlas_hp_current_property_click",
condition:n,
filter:function(t) {
return _i_("d0b:508"), _r_("hotel_current" === t.type);
}
}, {
evt:"markers-ready",
name:"atlas_hp_current_property_lost",
condition:n,
filter:function() {
_i_("d0b:509");
var t = this.getMarker(B.env.b_hotel_id);
if (!t) return _r_(!1);
var e = this.getBounds(), r = e.contains([ t.b_latitude, t.b_longitude ]);
return _r_(!r);
}
} ];
function d(t) {
return _i_("d0b:112"), _r_(Object.keys(_).every(function(e) {
return _i_("d0b:410"), _r_(t[e] === !0);
}));
}
function c(t, e) {
if (_i_("d0b:113"), e.filter && !e.filter.apply(this, [].slice.call(arguments, 0))) return _r_();
if (!B.et || !B.et.goal) return _r_();
B.et.goal(e.name), _[e.name] = (_[e.name] || 0) + 1, _r_();
}
return _r_({
init:function() {
_i_("d0b:367");
var e = this;
if ("default" !== this.get("id")) return _r_();
t.each(r, function(t, r) {
_i_("d0b:535"), r.condition && e.on(r.evt, function() {
_i_("d0b:585"), c.apply(e, [].slice.call(arguments, 0)), _r_();
}, r, !0), _r_();
}), e.on("load", function() {
_i_("d0b:536"), "function" == typeof e.getZoom && (i = e.getZoom()), _r_();
}), _r_();
}
});
}), $(function() {
"use strict";
if (_i_("d0b:21"), !B.atlas) return _r_();
B.atlas.define("iw-ajax", [ "jQuery", "util-env", "util-array" ], function(t, e, r) {
_i_("d0b:329");
var i = [], n = [];
function o(t, e) {
_i_("d0b:411");
var n, o = r.findIndex(i, function(e) {
return _i_("d0b:561"), _r_(e[0] === t);
}), _ = i[o];
if (o > -1) {
n = _[2], _[1] != e && (n.abort(), i.splice(o), t.trigger("iw-get-abort", t));
var s = _;
return _r_(s);
}
_r_();
}
function _(t) {
_i_("d0b:412");
var e = r.findIndex(i, function(e) {
return _i_("d0b:562"), _r_(e[0] === t);
}), n = i[e];
"object" == typeof n && (n[3].length = 0), _r_();
}
function s(t) {
_i_("d0b:413");
var r = this.get("markerDetailsURL");
return r || (r = e.get("markerDetailsURL"), this.set("markerDetailsURL", r)), r += ";hotel_id=" + t, this.get("map-track") && (r += ";mt=" + this.get("map-track")), _r_(r);
}
function a(t) {
_i_("d0b:414");
var e, i = this;
return e = r.find(n, function(e) {
return _i_("d0b:563"), _r_(e[0] === i && e[1] == t);
}), _r_(e ? e[2] :!1);
}
function d(e, n, d) {
_i_("d0b:415");
var c, u = s.call(this, e), h = this, g = a.call(h, e), f = o(h, e);
if (f = f || [], f[3] = f[3] && f[3].length > 0 && f[1] == e ? f[3] :[], f[3].push(n), !d && g) return r.each(f[3], function(t) {
_i_("d0b:570"), "function" == typeof t && t.apply(h, [ g ]), _r_();
}), _(h), _r_(g);
if (f[3].length > 1) return _r_();
return h.trigger("iw-get-before", {
marker:h.getMarker(e),
map:h
}), c = t.ajax({
url:u,
error:function(t, e) {
_i_("d0b:576"), "abort" !== e ? h.trigger("iw-get-fail", h) :_(h), _r_();
},
success:function(t) {
if (_i_("d0b:577"), !t) return _r_();
var n = r.find(i, function(t) {
return _i_("d0b:588"), _r_(t[0] === h);
}), o = n[3];
r.each(o, function(r) {
_i_("d0b:587"), "function" == typeof r && t.b_hotels && r.apply(h, [ t.b_hotels[e] ]), _r_();
}), _(h), l(e, h, t.b_hotels[e]), h.trigger("iw-get-success", t), _r_();
}
}), f[0] = h, f[1] = e, f[2] = c, i.push(f), _r_(c);
}
function c(t) {
_i_("d0b:416"), "string" == typeof t || "number" == typeof t ? n.some(function(e, r) {
if (_i_("d0b:571"), e[1] == t) return n.splice(r, 1), _r_(!0);
return _r_(!1);
}) :n.length = 0, _r_();
}
function l(t, e, r) {
_i_("d0b:417"), n.push([ e, t, r ]), _r_();
}
return _r_({
getIW:d,
clearIWCache:c
});
}), _r_();
}), B.atlas.define("iw", [ "jQuery", "geometry.point", "util-env" ], function(t, e, r) {
"use strict";
_i_("d0b:22");
var i = {}, n = {
latLng:[ 0, 0 ],
offset:new e(0, 0),
className:"",
closeSelector:".iw-close",
mapOffset:new e(0, 0),
mapPadding:0,
content:"",
disablePan:!1,
engine:"html"
};
function o(t) {
return _i_("d0b:114"), i[t] = B.jstmpl(t) && "__no_op__" !== B.jstmpl(t).name ? B.jstmpl(t) :B.jstmpl("atlas_iw_default"), _r_(i[t] || {
render:function() {}
});
}
function _() {
_i_("d0b:115");
var e = this;
if (this.IW = this.IW || {}, this.IW.OPTIONS) return _r_();
this.IW.OPTIONS = t.extend({}, n, {
mapOffset:this.get("offset")
}), s(), this.on("offset-change", function(t) {
_i_("d0b:418"), e.IW.OPTIONS.mapOffset = t, _r_();
}), _r_();
}
function s() {}
function a(e) {
_i_("d0b:117"), _.call(this), this.IW.OPTIONS = t.extend({}, this.IW.OPTIONS, e), _r_();
}
function d(t, e) {
_i_("d0b:118"), this.IW.cur ? this.IW.cur.open(t, e) :this.IW.cur = new this.Interface.IW(t, this), _r_();
}
function c(e, r) {
_i_("d0b:119");
var i = {}, n = this.Interface.getMarker(e);
this.IW || _.call(this), n && (r = r || o.call(this, "atlas_iw_loading").render({}), t.extend(i, this.IW.OPTIONS, {
marker:n,
latLng:[ n.b_latitude, n.b_longitude ],
content:r,
type:n.b_type || ""
}), d.call(this, i, !0)), _r_();
}
function l(e, r, i) {
_i_("d0b:120");
var n, s = {}, a = this.Interface.getMarker(e);
this.IW || _.call(this), a && (n = a.b_iw_template || "atlas_iw_" + a.b_type, i = i || o.call(this, n).render(r), t.extend(s, this.IW.OPTIONS, {
marker:a,
latLng:[ a.b_latitude, a.b_longitude ],
content:i,
type:a.b_type || ""
}), d.call(this, s), this.trigger("iw-rendered")), _r_();
}
function u(e, r, i, n) {
_i_("d0b:121");
var s, a = {};
this.IW || _.call(this), s = !i && n ? o.call(this, n) :null, i = i || (s ? s.render(r) :""), t.extend(a, this.IW.OPTIONS, {
latLng:[ e[0], e[1] ],
content:i
}), d.call(this, a), _r_();
}
function h() {
_i_("d0b:122"), this.IW && this.IW.cur && this.IW.cur.close(), _r_();
}
return _r_({
closeIW:h,
setIW:a,
openIW:l,
openIWLatLng:u,
openIWLoading:c
});
}), B.atlas.define("labels", [], function() {
"use strict";
_i_("d0b:23");
var t = B.require("promise");
function e(e) {
_i_("d0b:123");
var r, i = this;
return _r_(new t(function(t, n) {
_i_("d0b:419"), i.Interface.Overlay || n(), r = i.get("labelOverlay") || i.set("labelOverlay", new i.Interface.Overlay({}, i)), e.resolve = t, r.add(e), _r_();
}));
}
function r() {
_i_("d0b:124");
var t = this.get("labelOverlay");
if (!t || !this.Interface.Overlay) return _r_(!1);
return _r_(t.removeAll());
}
function i(t) {
_i_("d0b:125");
var e = this.get("labelOverlay");
if (!e || !this.Interface.Overlay) return _r_(!1);
return _r_(e.remove(t));
}
function n(t) {
_i_("d0b:126");
var e = this.get("labelOverlay"), r = {};
if (!e || !this.Interface.Overlay) return _r_(!1);
return e.getRenderedItems().forEach(function(e) {
_i_("d0b:420"), e.id === t && (r = e), _r_();
}), _r_(r);
}
function o() {
_i_("d0b:127");
var t = this.get("labelOverlay");
if (!t || !this.Interface.Overlay) return _r_(!1);
return _r_(t.getRenderedItems());
}
return _r_({
addLabel:e,
removeLabel:i,
removeLabels:r,
getLabels:o,
getLabel:n
});
}), B.atlas.define("hover", function() {
_i_("d0b:24");
function t(t) {
_i_("d0b:128");
var e = this.Interface.getMarker(t);
e && e.b_behaviors && (e.b_behaviors.hover = !0), this.refreshMarker(e, !0), _r_();
}
function e(t) {
if (_i_("d0b:129"), "undefined" == typeof t) return this.setIconActive(void 0), _r_();
var e = this.Interface.getMarker(t);
e && e.b_behaviors && (e.b_behaviors.hover = !1), this.refreshMarker(e, !1), _r_();
}
function r(t) {
_i_("d0b:130");
var e = this.Interface.getActiveMarkers(), r = this;
e.forEach(function(e) {
_i_("d0b:421"), e = r.Interface.getMarker(e.b_id), e && !!e.b_behaviors.active != (t === e.b_id) && (e.b_behaviors.active = t === e.b_id, r.refreshMarker(e)), _r_();
}), _r_();
}
function i(t) {
_i_("d0b:131");
var e = this.Interface.getMarker(t);
e && e.b_behaviors && (e.b_behaviors.visited = !0), this.refreshMarker(e), _r_();
}
return _r_({
setIconHover:t,
setIconOut:e,
setIconActive:r,
setIconVisited:i
});
}), B.atlas.define("markers", [ "util-object", "util-array" ], function(t, e) {
_i_("d0b:25");
function r(t) {
_i_("d0b:132");
var r, i = [];
if (e.isArray(t)) i = t; else for (r in t) t.hasOwnProperty(r) && i.push(t[r]);
return this.enforceMarkerFormat(t), _r_(i);
}
function i(t, e) {
_i_("d0b:133");
var i = r.apply(this, [ t ]);
return this.pruneMarkers(i), _r_(this.addMarkers(i, e));
}
function n() {
return _i_("d0b:134"), _r_(this.Interface.getActiveMarkers());
}
function o() {
_i_("d0b:135"), this.Interface.clearMarkers(), _r_();
}
function _(t) {
_i_("d0b:136"), this.Interface.clearMarker(t), _r_();
}
function s(t) {
_i_("d0b:137");
var e = r.apply(this, [ t ]);
this.Interface.pruneOutboundedMarkers(), this.addMarkers(e), _r_();
}
function a(t) {
_i_("d0b:138");
for (var e, r, i = this.Interface.getActiveMarkers(), n = i.length; n--; ) {
for (e = i[n].b_id, r = t.length; r-- && t[r].b_id !== e; ) ;
0 > r && e && this.Interface.clearMarker(e);
}
_r_();
}
function d(e, i) {
_i_("d0b:139");
for (var n, o, _ = [], s = 0, a = r.apply(this, [ e ]), d = a.length, c = B.require("promise"), l = [], u = this; d--; ) {
if (n = a[d], n && n.b_states && n.b_states.overlay) {
n.content = u.getMarkerContent(n), "mdot" !== B.env.b_site_type && (n.zIndex = u.getMarkerZIndex(n));
var h = u.Interface.createMarker(n);
h && l.push(h.promise);
} else {
o = u.getMarkerIcon(n), n.zIndex = o.z + s++;
var h = u.Interface.createMarker(t.extend(n, {
icon:o
}));
h && l.push(h.promise);
}
_.push([ n.b_latitude, n.b_longitude ]);
}
return i && "function" == typeof u.setBoundingBox && u.setBoundingBox(_), _r_(c.all(l).then(function(t) {
return _i_("d0b:422"), u.trigger(u.EVENTS.MARKERS_RENDERED, t), _r_(t);
}));
}
function c(t) {
_i_("d0b:140");
var e, r = this.Interface.getMarker(t);
r && (r.b_states && r.b_states.overlay ? this.Interface.setMarkerType(t, {
content:this.getMarkerContent(r),
zIndex:this.getMarkerZIndex(r)
}) :(e = this.getIcon(r.b_type), this.Interface.setMarkerType(t, e))), _r_();
}
function l(t) {
_i_("d0b:141"), this.Interface.centerMarker(t, this.get("offset")), _r_();
}
function u(t) {
_i_("d0b:142"), this.Interface.panMarker(t, this.get("offset")), _r_();
}
function h(t, e) {
_i_("d0b:143");
var r = this.Interface.getMarker(t);
e && r && (r.b_type = e, "function" == typeof this.updateMarkerStates && this.updateMarkerStates(r), this.refreshMarker(r)), _r_();
}
function g(t) {
return _i_("d0b:144"), _r_(this.Interface.getMarker(t));
}
function f(t, e) {
return _i_("d0b:145"), _r_(this.Interface.setMarkerOptions(t, e));
}
function p(t, e) {
if (_i_("d0b:146"), "function" == typeof this.Interface.animateMarker) return _r_(this.Interface.animateMarker(t, e));
_r_();
}
function b() {
return _i_("d0b:147"), _r_(this.Interface.markersExist());
}
function m(t) {
if (_i_("d0b:148"), "function" == typeof this.Interface.getMarkerPosition) return _r_(this.Interface.getMarkerPosition(t));
_r_();
}
function v(t, e) {
_i_("d0b:149"), e ? t.b_behaviors = e.b_behaviors :t.b_behaviors = t.b_behaviors || {}, _r_();
}
function y(t, e) {
_i_("d0b:150"), e ? t.b_states = e.b_states :t.b_states = t.b_states || {}, _r_();
}
function k(t) {
_i_("d0b:151"), t.b_type = t.b_type || t.b_marker_type, t.b_marker_type && delete t.b_marker_type, _r_();
}
function w(t) {
_i_("d0b:152"), /hotel/.test(t.b_type) && (t.b_basic_type = "hotel"), /city/.test(t.b_type) && (t.b_basic_type = "city"), /airport/.test(t.b_type) && (t.b_basic_type = "airport"), y(t), /soldout/.test(t.b_type) && (t.b_states.soldout = !0), /comp_set/.test(t.b_type) && (t.b_states.compset = !0), /current/.test(t.b_type) && (t.b_states.current = !0), /hotel_sr/.test(t.b_type) && (t.b_states.searchresults = !0), /genius/.test(t.b_type) && (t.b_states.genius = !0), t.b_persistent && (t.b_states.persistent = !0), _r_();
}
function L(t, e) {
_i_("d0b:153");
var r = this;
if (t instanceof Array) {
if (B.env.relocation_mode) {
var i = JSON.parse(localStorage.getItem("recommendations"));
i && t.forEach(function(t) {
_i_("d0b:572");
for (var e = 0; e < i.hotels.length; e++) t.b_id == i.hotels[e] && (t.b_recommendation_number = e + 1), t.b_id == i.original_hotel_id && (t.b_is_original_hotel = !0);
_r_();
});
}
t.forEach(function(t) {
_i_("d0b:519");
var i = r.getMarker(t.b_id);
k(t), y(t, i), v(t, i), w(t), "function" == typeof e && e(t), _r_();
});
}
return _r_(t);
}
function I(t, e) {
_i_("d0b:154");
var r, i = t && t.b_id;
if (!t) return _r_();
t.b_states && t.b_states.overlay ? (r = {
zIndex:this.getMarkerZIndex(t)
}, "boolean" == typeof e ? (t = t.setMarkerClass ? t :this.getMarker(t.b_id), e ? t.setMarkerClass("hover") :t.removeMarkerClass("hover")) :r.content = this.getMarkerContent(t), this.Interface.setMarkerType(i, r)) :this.Interface.setMarkerType(i, this.getMarkerIcon(t)), this.trigger("marker-refresh", t), _r_();
}
function M(t) {
_i_("d0b:155");
var e;
if (!t) return _r_();
return e = t && t.b_behaviors ? t.b_behaviors.hover || t.b_behaviors.active ? this.getHover(t.b_type) :t.b_behaviors.opened ? this.getOpened(t.b_type) :t.b_behaviors.visited ? this.getVisited(t.b_type) :this.getIcon(t.b_type) :this.getIcon(t.b_type), _r_(e);
}
return _r_({
addMarkers:d,
centerMarker:l,
clearMarkers:o,
clearMarker:_,
getActiveMarkers:n,
getMarker:g,
panMarker:u,
pruneMarkers:a,
resetMarkerType:c,
setMarkers:i,
setMarkerType:h,
setMarkerOptions:f,
updateMarkers:s,
animateMarker:p,
markersExist:b,
getMarkerPosition:m,
refreshMarker:I,
getMarkerIcon:M,
enforceMarkerFormat:L,
updateMarkerStates:w
});
}), B.atlas.define("markers-ajax", [ "jQuery", "util-env" ], function(t, e) {
"use strict";
_i_("d0b:26");
var r = [], i = B.require("promise");
function n(t) {
_i_("d0b:156");
var e = t.Interface ? t.Interface.getBoundingBox() :t.get("bounds"), r = "";
return e && e.SW ? r = [ e.SW[1], e.SW[0], e.NE[1], e.NE[0] ].join(",") :e && e.toMOMString && (r = e.toMOMString()), _r_(r);
}
function o(t) {
_i_("d0b:157");
var e, i, n;
for (e = 0, i = r.length; i > e; ++e) if (n = r[e], n[0] === t) return n[1].abort(), r.splice(e), _r_(!0);
return _r_(!1);
}
function _() {
_i_("d0b:158");
var e, _ = this.getMarkersURL(), s = this, a = n(s);
if (o(s), !a) return _r_(i.reject());
return s.trigger(s.EVENTS.MARKERS_GET_BEFORE, s), _r_(new i(function(i, n) {
_i_("d0b:423"), e = t.ajax({
url:_ + ";BBOX=" + a,
error:function(t, e) {
_i_("d0b:578"), "abort" !== e && s.trigger(s.EVENTS.MARKERS_GET_FAIL, s), _r_();
},
success:function(t) {
if (_i_("d0b:579"), s.trigger(s.EVENTS.MARKERS_GET_SUCCESS, t), !t) return s.trigger(s.EVENTS.MARKERS_GET_NO_DATA, t), _r_();
i(t), _r_();
}
}), r.push([ s, e ]), _r_();
}));
}
function s(t) {
return _i_("d0b:159"), _r_(this.set("markersOnMapURL", t || e.get("markersOnMapURL")));
}
function a() {
return _i_("d0b:160"), _r_(this.get("markersOnMapURL") || e.get("markersOnMapURL"));
}
function d(t) {
_i_("d0b:161");
var e = this.getMarkersURL();
return _r_(this.setMarkersURL(e.replace(/limit=([\d]*)/, "limit=" + parseInt(t, 10))));
}
return _r_({
getMarkers:_,
setLimit:d,
setMarkersURL:s,
getMarkersURL:a
});
}), B.atlas.define("overlay-markers-content", [], function() {
_i_("d0b:27");
function t(t) {
return _i_("d0b:162"), _r_(t.b_template ? B.jstmpl(t.b_template).render(t) :B.jstmpl("atlas_overlay_marker").render(t));
}
function e(t) {
return _i_("d0b:163"), _r_(t.b_zindex ? t.b_zindex :parseInt(B.jstmpl("atlas_overlay_marker_zindex").render(t), 10));
}
function r(t) {
_i_("d0b:164");
var e = B.jstmpl("atlas_overlay_marker_dimension").render(t);
try {
e = JSON.parse(e);
} catch (r) {
throw r;
}
return _r_(e);
}
return _r_({
getMarkerContent:t,
getMarkerZIndex:e,
getMarkerDimension:r
});
}), B.atlas.define("offset", [ "geometry.point" ], function(t) {
"use strict";
_i_("d0b:28");
function e(e, r) {
_i_("d0b:165");
var i = new t(e, r);
this.set("offset", i), this.trigger("offset-change", i), _r_();
}
return _r_({
setOffset:e
});
}), B.atlas.define("options", function() {
"use strict";
_i_("d0b:29");
function t(t, e) {
_i_("d0b:166"), this.Interface.configZoomControl(t, e), _r_();
}
function e() {
_i_("d0b:167"), this.Interface.hideZoomControl(), _r_();
}
function r(t) {
_i_("d0b:168"), this.Interface.setMaxZoom(t), this.set("maxZoom", t), _r_();
}
function i(t) {
_i_("d0b:169"), this.Interface.setMinZoom(t), this.set("minZoom", t), _r_();
}
function n(t) {
_i_("d0b:170"), this.Interface.setZoom(t), _r_();
}
function o(t) {
_i_("d0b:171"), this.Interface.setMapType(t), _r_();
}
function _() {
return _i_("d0b:172"), _r_(this.Interface.getMapType());
}
function s() {
return _i_("d0b:173"), _r_(this.Interface.getZoom());
}
function a() {
return _i_("d0b:174"), _r_(this.Interface.enableScrollwheel());
}
function d() {
return _i_("d0b:175"), _r_(this.Interface.disableScrollwheel());
}
return _r_({
configZoomControl:t,
hideZoomControl:e,
setMapType:o,
getMapType:_,
setMaxZoom:r,
setMinZoom:i,
setZoom:n,
getZoom:s,
enableScrollwheel:a,
disableScrollwheel:d
});
}), B.atlas.define("places", function() {
"use strict";
_i_("d0b:30");
function t(t, e, r) {
if (_i_("d0b:176"), !t) return _r_();
this.Interface.getPlaceDetails(t, e, r), _r_();
}
function e(t, e) {
if (_i_("d0b:177"), !t) return _r_();
"function" == typeof this.Interface.getGeocodeDetails && this.Interface.getGeocodeDetails(t, e), _r_();
}
function r(t, e, r) {
if (_i_("d0b:178"), !t || !this.Interface.searchPlaces) return _r_();
this.Interface.searchPlaces(t, e, r), _r_();
}
function i() {
return _i_("d0b:179"), _r_(this.Interface.checkPlacesApi && this.Interface.checkPlacesApi());
}
return _r_({
checkPlacesApi:i,
getPlaceDetails:t,
getGeocodeDetails:e,
searchPlaces:r
});
}), B.atlas.define("polygons", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:31");
var e = {
paths:[],
clickable:!0,
fillColor:"#0896ff",
fillOpacity:.1,
strokeColor:"#003580",
strokeOpacity:.7,
strokeWeight:3
};
function r(r) {
_i_("d0b:180");
var i, n = e, o = r.style && r.style.hover && r.style["default"];
return o && (n = t.extend({}, n, r.style["default"])), i = new this.Interface.Polygon(t.extend({}, n, r), this.Interface), i.on("mouseover", function(t) {
_i_("d0b:546"), "function" == typeof r.mouseover && r.mouseover.call(this, t), o && i.setOptions(r.style.hover), _r_();
}).on("mouseout", function(t) {
_i_("d0b:520"), "function" == typeof r.mouseout && r.mouseout.call(this, t), o && i.setOptions(r.style["default"]), _r_();
}).on("click", function(t) {
_i_("d0b:424"), "function" == typeof r.click && r.click.call(this, t), _r_();
}), _r_(i);
}
return _r_({
createPolygon:r
});
}), B.atlas.define("zoom", function() {
"use strict";
_i_("d0b:32");
function t(t) {
_i_("d0b:181");
var e, r = t || this.get("maxZoom"), i = this.getZoom();
return r > i ? (e = i + 1, this.setZoom(e), _r_(i + 1 === r ? !0 :!1)) :_r_(!0);
}
function e(t) {
_i_("d0b:182");
var e, r = t || this.get("minZoom"), i = this.getZoom();
return i > r ? (e = i - 1, this.setZoom(e), _r_(i - 1 === r ? !0 :!1)) :_r_(!0);
}
return _r_({
incrementZoom:t,
decrementZoom:e
});
}), B.atlas.define("directions", [ "util-object", "util-array" ], function(t, e) {
_i_("d0b:33");
function r(t, e) {
return _i_("d0b:183"), _r_(this.Interface.directionsServiceRoute(t, e));
}
function i(t) {
_i_("d0b:184"), this.Interface.directionsRenderer().setDirections(t), _r_();
}
function n() {
_i_("d0b:185");
var t = this.Interface.directionsRenderer();
return _r_(t);
}
return _r_({
getDirectionsRoute:r,
directionsRenderer:n,
setDirections:i
});
}), B.atlas.define("provider-google-autocomplete-result", [ "util-object", "util-array", "util-getset" ], function(t, e, r) {
"use strict";
_i_("d0b:34");
function i(t) {
_i_("d0b:186");
var r = [];
return e.each(t.slice(1), function(t) {
_i_("d0b:425"), t.value && r.push(t.value), _r_();
}), _r_(r.join(", "));
}
function n(t) {
return _i_("d0b:187"), _r_(t && t.length ? t[0].value || "" :"");
}
function o(e, o) {
_i_("d0b:188");
var _ = this, s = {
map:o,
data:{
id:e.place_id,
title:n(e.terms),
address:i(e.terms),
description:e.description,
matched_substrings:e.matched_substrings,
types:e.types
}
};
t.extend(s, e), t.extend(_, r.call(_, s)), _r_();
}
return o.prototype.getDetails = function(t) {
_i_("d0b:330");
var e = this.get("map"), r = this.get("place_id");
return _r_(e.getPlaceDetails({
placeId:r
}, t));
}, _r_(o);
}), B.atlas.define("provider-google-autocomplete", [ "jQuery", "util-array", "provider-google-autocomplete-result" ], function(t, e, r) {
"use strict";
_i_("d0b:35");
var i, n = 4e3;
function o(t, e) {
_i_("d0b:189");
var r = e.map && e.map.getBounds(), i = {
input:t.query
};
return r ? i.bounds = r :t.lat && t.lon && (i.location = new google.maps.LatLng(t.lat, t.lon), i.radius = Math.min(parseInt(t.radius, 10), n)), t.types && (i.types = t.types), _r_(i);
}
function _(t, i) {
_i_("d0b:190");
var n = [];
return t.length > 0 && e.each(t, function(t) {
_i_("d0b:521"), t.place_id && t.terms && n.push(new r(t, i)), _r_();
}), _r_(n);
}
function s(e, r, n) {
_i_("d0b:191");
var s = this, a = o(e, s);
i = i || new google.maps.places.AutocompleteService(), t.get("/gapi_monitor", {
type:"places_autocomplete"
}), i.getPlacePredictions(a, function(t, e) {
_i_("d0b:426"), e && e.indexOf("OK") > -1 && t ? r(_(t, s)) :"function" == typeof n && n(e, a), _r_();
}), _r_();
}
return _r_({
autocomplete:s
});
}), B.atlas.define("provider-google-bounds", function() {
"use strict";
_i_("d0b:36");
function t() {
_i_("d0b:192");
var t, e, r = this.map.getBounds(), i = null;
return r && (t = r.getSouthWest(), e = r.getNorthEast(), i = {
SW:[ t.lat(), t.lng() ],
NE:[ e.lat(), e.lng() ]
}), _r_(i);
}
return _r_({
getBoundingBox:t
});
}), B.atlas.define("provider-google-center", function() {
"use strict";
_i_("d0b:37");
function t(t) {
_i_("d0b:193");
var e = this.map.getCenter(), r = t ? {
x:-1 * t.x,
y:-1 * t.y
} :{}, i = t ? this.getOffsetLatLng([ e.lat(), e.lng() ], r) :e;
return _r_([ i.lat(), i.lng() ]);
}
function e(t, e) {
return _i_("d0b:194"), _r_(new google.maps.LatLng(t, e));
}
function r(t, e) {
_i_("d0b:195"), this.map.panBy(t, e), _r_();
}
function i() {
_i_("d0b:196"), google.maps.event.trigger(this.map, "resize"), _r_();
}
function n(t, e) {
_i_("d0b:197"), this.map.setCenter(this.getOffsetLatLng(t, e)), _r_();
}
function o(t, e) {
_i_("d0b:198"), this.map.panTo(this.getOffsetLatLng(t, e)), _r_();
}
return _r_({
getCenter:t,
getLatLng:e,
panBy:r,
panTo:o,
resize:i,
setCenter:n
});
}), B.atlas.define("provider-google-circles", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:38");
var e = [];
function r(t) {
return _i_("d0b:199"), _r_(new google.maps.LatLng(t[0], t[1]));
}
function i(e, i) {
_i_("d0b:200");
var n = {};
t.extend(n, e, {
center:r(e.center),
readius:e.readius,
map:i.map
}), this.ubber = i, this.core = new google.maps.Circle(n), _r_();
}
return i.prototype = {
setOptions:function(e) {
_i_("d0b:427");
var i = {};
return e.center && (e.center = r(e.center)), t.extend(i, e), this.core.setOptions(i), _r_(this);
},
getCenter:function() {
_i_("d0b:428");
var t = this.core.getCenter();
return _r_([ t.lat(), t.lng() ]);
},
on:function(t, r) {
_i_("d0b:429");
var i = this;
return e.push({
context:this,
evt:t,
handler:r,
listener:google.maps.event.addListener(this.core, t, function(e) {
_i_("d0b:580");
var n = {};
e.latLng && (n.latLng = [ e.latLng.lat(), e.latLng.lng() ]), i.ubber.ubber.trigger("circle-" + t, this), r.call(i, n), _r_();
})
}), _r_(this);
},
off:function(t, r) {
_i_("d0b:430");
for (var i, n, o = e.length; o--; ) if (i = e[o], i.context === this && i.evt === t && i.handler === r) {
n = e.splice(o, 1), 1 === n.length && n[0].listener && n[0].listener.remove();
break;
}
return _r_(this);
},
setCenter:function(t) {
return _i_("d0b:431"), this.core.setCenter(r(t)), _r_(this);
},
hide:function() {
return _i_("d0b:432"), this.core.setVisible(!1), _r_(this);
},
show:function() {
return _i_("d0b:433"), this.core.setVisible(!0), _r_(this);
},
remove:function() {
_i_("d0b:434");
for (var t, r = e.length; r--; ) e[r].context === this && (t = e.splice(r, 1), 1 === t.length && t[0].listener && t[0].listener.remove());
return this.core.setMap(null), _r_(this);
}
}, _r_({
Circle:i
});
}), B.atlas.define("provider-google-events", function() {
"use strict";
_i_("d0b:39");
function t() {
_i_("d0b:201");
var t, e = google.maps.event, r = this.ubber;
e.addListener(this.map, "dragstart", function() {
_i_("d0b:435"), r.trigger("drag-start"), _r_();
}), e.addListener(this.map, "dragend", function() {
_i_("d0b:436"), r.trigger("drag-end"), _r_();
}), e.addListener(this.map, "zoom_changed", function() {
_i_("d0b:437");
var t = r.Interface, e = t && t.map ? t.map.getZoom() :0;
r.trigger("zoom", e), _r_();
}), e.addListener(this.map, "dblclick", function() {
_i_("d0b:438"), r.trigger("doubleclick"), _r_();
}), e.addListener(this.map, "click", function() {
_i_("d0b:439"), r.trigger("click", arguments[0]), _r_();
}), e.addListener(this.map, "idle", function() {
_i_("d0b:440"), r.trigger("idle"), _r_();
}), e.addListener(this.map, "resize", function() {
_i_("d0b:441"), r.trigger("resize"), _r_();
}), e.addListener(this.map, "bounds_changed", function() {
_i_("d0b:442"), t && clearTimeout(t), t = setTimeout(function() {
_i_("d0b:564"), r.trigger("bounds-change"), _r_();
}, 150), _r_();
}), e.addListener(this.map, "tilesloaded", function() {
_i_("d0b:443"), r.trigger("tiles-loaded"), _r_();
}), e.addListener(this.map, "maptypeid_changed", function() {
_i_("d0b:444"), r.trigger("google-map-type-change", this.getMapTypeId()), _r_();
}), _r_();
}
return _r_({
setEvents:t
});
}), B.atlas.define("provider-google-iw", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:40");
var e = "iw-overlay", r = "iw-overlay-loading", i = "iw-overlay-closing";
function n(e, r) {
_i_("d0b:202");
var i = r.Interface.map;
this.ubber = r, this.config = {}, this.isOpen = !1, google.maps.OverlayView.call(this), t.extend(this.config, e), t.extend(this, new google.maps.OverlayView()), this.setMap(i), _r_();
}
return n.prototype.remove = function() {
_i_("d0b:331"), this.$domNode && (this.$domNode.remove(), this.$domNode = null), this.setMap(null), _r_();
}, n.prototype.draw = function() {
_i_("d0b:332");
var r = this, i = this.config, n = i.isFixed ? this.ubber.$domNode :t(this.getPanes().floatPane);
this.$domNode ? !i.isFixed && this.isOpen && this.setPosition() :(this.$domNode = t('<div class="' + e + '"/>'), this.$domNode.appendTo(n).bind("mousemove", function(t) {
_i_("d0b:573"), t.stopPropagation(), _r_();
}).on("click", i.closeSelector, function(t) {
_i_("d0b:547"), t.stopPropagation(), r.close(), _r_();
}), this.open()), _r_();
}, n.prototype.checkOverlay = function(e, r) {
_i_("d0b:333");
var i = this.ubber.get("topOverlay"), n = i ? i :this.ubber.$domNode, o = this.getPanes().floatPane;
e && r.get(0) !== n.get(0) ? r.appendTo(n) :e || r.get(0) === o || r.appendTo(t(o)), _r_();
}, n.prototype.open = function(n, o) {
_i_("d0b:334");
var _ = t.extend(this.config, n || {}), s = [ e, _.className ], a = this.$domNode, d = this.getProjection();
if (!d || !this.$domNode) return _r_();
this.$domNode.removeClass(i), this.checkOverlay(_.isFixed, a), o && s.push(r), a.attr("class", s.join(" ")).html(_.content).show(), this.setPosition(), _.disablePan || this.panMap(), this.isOpen = !0, this.ubber.trigger("iw-open", {
$infoWindow:a,
property:_.marker ? _.marker :{}
}), _r_();
}, n.prototype.getPosition = function(t, e) {
_i_("d0b:335");
var r = this.config;
return _r_({
x:e.x + r.offset.x - t.outerWidth() / 2,
y:e.y + r.offset.y
});
}, n.prototype.setPosition = function() {
_i_("d0b:336");
var t, e, r, i = this.config, n = this.$domNode, o = this.getProjection(), _ = i.getPosition || this.getPosition, s = new google.maps.LatLng(i.latLng[0], i.latLng[1]);
if (!o || !this.$domNode) return _r_();
e = o.fromLatLngToDivPixel(s), r = o.fromLatLngToContainerPixel(s), n.css({
position:"absolute"
}), t = _.call(this, n, e, r), n.css({
top:t.y,
left:t.x
}), _r_();
}, n.prototype.close = function() {
_i_("d0b:337"), this.$domNode && (this.isOpen = !1, this.$domNode.addClass(i), this.$domNode.hide(), this.ubber.trigger("iw-close", this.config)), _r_();
}, n.prototype.panMap = function() {
_i_("d0b:338");
var e = this.getMap(), r = this.config, i = t(e.getDiv()), n = this.$domNode, o = i.width(), _ = i.height(), s = n.outerWidth() / 2, a = n.outerHeight(), d = this.getProjection().fromLatLngToContainerPixel(new google.maps.LatLng(r.latLng[0], r.latLng[1])), c = 0, l = 0;
d.x < -r.offset.x + r.mapPadding + s + r.mapOffset.x ? c = d.x + r.offset.x - r.mapPadding - s - r.mapOffset.x :d.x + s + r.offset.x + r.mapPadding > o && (c = d.x + s + r.offset.x + r.mapPadding - o), d.y < -r.offset.y + r.mapPadding + r.mapOffset.y ? l = d.y + r.offset.y - r.mapPadding - r.mapOffset.y :d.y + a + r.offset.y + r.mapPadding > _ && (l = d.y + a + r.offset.y + r.mapPadding - _), (0 !== c || 0 !== l) && e.panBy(c, l), _r_();
}, _r_({
IW:n
});
}), B.atlas.define("provider-google-markers", [ "util-array", "util-object", "provider-google-overlay-marker" ], function(t, e, r) {
"use strict";
_i_("d0b:41");
var i = B.require("promise");
function n(e) {
return _i_("d0b:203"), _r_(t.findIndex(this.markers, function(t) {
if (_i_("d0b:445"), t) return _r_(t.b_id === String(e));
_r_();
}));
}
function o() {
_i_("d0b:204");
for (var t, e = this.markers, r = e.length, i = google.maps.event, n = this.map.getBounds(); r--; ) t = e[r], !n || n.contains(t.getPosition()) || t.data.b_persistent || (i.clearInstanceListeners(t), t.setMap(null), e.splice(r, 1), this.markersHash && delete this.markersHash[t.b_id]);
_r_();
}
function _() {
_i_("d0b:205");
var t = this.map.getBounds();
if (!t) return _r_();
for (var e = this.markers.length; e--; ) {
var r = this.markers[e];
r.setVisible(t.contains(r.getPosition()));
}
_r_();
}
function s() {
_i_("d0b:206");
for (var t, e = this.markers.length; e--; ) t = this.markers[e], google.maps.event.clearInstanceListeners(t), t.setMap(null);
this.markersHash && (this.markersHash = {}), this.markers = [], _r_();
}
function a(t) {
_i_("d0b:207");
var e = n.call(this, t), r = e > -1 ? this.markers[e] :null;
r && (google.maps.event.clearInstanceListeners(r), r.setMap(null), this.markers.splice(e, 1), this.markersHash && delete this.markersHash[r.b_id]), _r_();
}
function d() {
return _i_("d0b:208"), _r_(this.markers ? this.markers.length > 0 :!1);
}
function c(e) {
if (_i_("d0b:209"), this.markersHash) return _r_(this.markersHash[e]);
return _r_(t.find(this.markers, function(t) {
if (_i_("d0b:446"), t) return _r_(t.b_id === String(e));
_r_();
}));
}
function l() {
_i_("d0b:210");
var t;
try {
t = this.markers.map(function(t) {
_i_("d0b:537");
var e = {};
return Object.keys(t).forEach(function(r) {
_i_("d0b:581"), /^b_/.test(r) && (e[r] = t[r]), _r_();
}), _r_(e);
});
} catch (e) {
var r, i;
try {
r = e.message, i = e.stack.slice(0, 800);
} catch (e) {}
window.onerror("Error in getActiveMarkers: " + r + i, "markers.js", 1, 1);
}
return _r_(t || []);
}
function u(t, e, r) {
_i_("d0b:211");
var i, n = this.getMarker(t);
n && n.b_states && n.b_states.overlay ? (e.content && n.setContent(e.content), e.zIndex && n.setZIndex(e.zIndex)) :n && (n.iconType = r || n.iconType, i = {
url:e.url,
size:new google.maps.Size(e.w, e.h),
origin:new google.maps.Point(e.x, e.y)
}, e.scaleW && e.scaleH && (i.scaledSize = new google.maps.Size(e.scaleW, e.scaleH)), "undefined" != typeof e.offsetX && "undefined" != typeof e.offsetY && (i.anchor = new google.maps.Point(e.offsetX, e.offsetY)), n.setOptions({
icon:i,
zIndex:e.z
})), _r_();
}
function h(t, e) {
_i_("d0b:212");
var r = this, i = this.getMarker(t), n = r.map.getProjection();
i && (n ? r.map.setCenter(this.getOffsetLatLng(i.getPosition(), e)) :r.ubber.once("idle", function() {
_i_("d0b:548"), r.map.setCenter(this.getOffsetLatLng(i.getPosition(), e)), _r_();
})), _r_();
}
function g(t, e) {
_i_("d0b:213");
var r = this, i = r.map.getProjection(), n = this.getMarker(t);
n && (i ? r.map.panTo(r.getOffsetLatLng(n.getPosition(), e)) :r.ubber.once("idle", function() {
_i_("d0b:549"), r.map.panTo(r.getOffsetLatLng(n.getPosition(), e)), _r_();
})), _r_();
}
function f(t, e) {
_i_("d0b:214");
var r = this.getMarker(t);
r && r.setOptions(e), _r_();
}
function p(t) {
_i_("d0b:215");
var n, o, _, s, a = B.env, d = google.maps, c = d.event, l = this.ubber;
if (this.getMarker(t.b_id)) return _r_();
return s = !("msie" === a.b_browser && a.b_browser_version < 9 || B.isSelenium), t && t.b_states && t.b_states.overlay ? (r.init(), n = new r(e.extend(t, {
zIndex:t.zIndex,
content:t.content,
position:new d.LatLng(t.b_latitude, t.b_longitude),
data:t
}))) :(o = t.icon, _ = {
url:o.url,
size:new d.Size(o.w, o.h),
origin:new d.Point(o.x, o.y)
}, o.scaleW && o.scaleH && (_.scaledSize = new d.Size(o.scaleW, o.scaleH)), "undefined" != typeof o.offsetX && "undefined" != typeof o.offsetY && (_.anchor = new google.maps.Point(o.offsetX, o.offsetY)), n = new d.Marker(e.extend(t, {
zIndex:t.zIndex,
position:new d.LatLng(t.b_latitude, t.b_longitude),
optimized:s,
data:t,
icon:_
})), n.promise = i.resolve(n)), n.setMap(this.map), c.addListener(n, "click", function(t) {
_i_("d0b:447"), t && "function" == typeof t.preventDefault && t.preventDefault(), l.trigger("marker-click", {
evt:t,
id:this.b_id,
type:this.b_type,
latLng:[ this.b_latitude, this.b_longitude ],
data:this
}), _r_();
}), c.addListener(n, "mouseover", function(t) {
_i_("d0b:448"), l.trigger("marker-hover", {
evt:t,
id:this.b_id,
type:this.b_type,
latLng:[ this.b_latitude, this.b_longitude ],
data:this
}), _r_();
}), c.addListener(n, "mouseout", function(t) {
_i_("d0b:449"), l.trigger("marker-out", {
evt:t,
id:this.b_id,
type:this.b_type,
latLng:[ this.b_latitude, this.b_longitude ],
data:this
}), _r_();
}), this.markers.push(n), this.markersHash && (this.markersHash[n.b_id] = n), _r_(n);
}
function b(t, e) {
_i_("d0b:216");
var r, n = this.getMarker(t), o = {
DROP:!0,
BOUNCE:!0,
"1":!0,
"2":!0
};
if (n && "function" == typeof n.setAnimation && (o[e] || null === e)) return "string" == typeof e ? (r = google.maps.Animation[e], "undefined" == typeof r && (r = null)) :r = "undefined" == typeof e ? google.maps.Animation.DROP :null, _r_(new i(function(t, e) {
_i_("d0b:522"), n.setAnimation(r), t(), _r_();
}));
if (n && n.setMarkerClass) return _r_(new i(function(t, r) {
_i_("d0b:538"), n.setMarkerClass(e).on("animationend", function() {
_i_("d0b:582"), t(), _r_();
}), _r_();
}));
_r_();
}
function m(t) {
_i_("d0b:217");
var e, r, i = new google.maps.OverlayView(), n = this.getMarker(t);
return i.draw = function() {}, i.setMap(this.map), e = i.getProjection(), e && n && (r = e.fromLatLngToContainerPixel(n.getPosition())), i.setMap(null), _r_(r);
}
return _r_({
centerMarker:h,
clearMarker:a,
clearMarkers:s,
createMarker:p,
setMarkerOptions:f,
getMarker:c,
getActiveMarkers:l,
panMarker:g,
pruneOutboundedMarkers:o,
updateMarkersVisibiliy:_,
setMarkerType:u,
animateMarker:b,
markersExist:d,
getMarkerPosition:m
});
}), B.atlas.define("provider-google-offset", [ "geo.projection" ], function(t) {
"use strict";
_i_("d0b:42");
function e(e, r) {
_i_("d0b:218");
var i = this.map, n = "lat" in e ? e :new google.maps.LatLng(e[0], e[1]), o = i.getProjection();
return r && (o = t.pointToLatLng(r, i.getZoom()), n = new google.maps.LatLng(n.lat() - o.lat, n.lng() - o.lng)), _r_(n);
}
return _r_({
getOffsetLatLng:e
});
}), B.atlas.define("provider-google-options", function() {
"use strict";
_i_("d0b:43");
function t(t, e) {
_i_("d0b:219");
var r = google.maps.ZoomControlStyle, i = google.maps.ControlPosition;
this.map.setOptions({
zoomControl:!0,
zoomControlOptions:{
style:t && r.hasOwnProperty(t) ? r[t] :r.SMALL,
position:e && i.hasOwnProperty(e) ? i[e] :i.LEFT_CENTER
}
}), _r_();
}
function e() {
_i_("d0b:220"), this.map.setOptions({
zoomControl:!1
}), _r_();
}
function r(t) {
_i_("d0b:221");
var e = t.toUpperCase(), r = google.maps.MapTypeId;
r.hasOwnProperty(e) && this.map.setMapTypeId(r[e]), _r_();
}
function i() {
return _i_("d0b:222"), _r_(this.map.getMapTypeId());
}
function n(t) {
_i_("d0b:223"), this.map.setOptions({
maxZoom:t
}), _r_();
}
function o(t) {
_i_("d0b:224"), this.map.setOptions({
minZoom:t
}), _r_();
}
function _(t) {
_i_("d0b:225"), this.map.setOptions({
zoom:t
}), _r_();
}
function s() {
return _i_("d0b:226"), _r_(this.map.getZoom());
}
function a() {
return _i_("d0b:227"), _r_(this.map.setOptions({
scrollwheel:!0
}));
}
function d() {
return _i_("d0b:228"), _r_(this.map.setOptions({
scrollwheel:!1
}));
}
return _r_({
hideZoomControl:e,
configZoomControl:t,
setMapType:r,
getMapType:i,
setMaxZoom:n,
setMinZoom:o,
setZoom:_,
getZoom:s,
enableScrollwheel:a,
disableScrollwheel:d
});
}), B.atlas.define("provider-google-overlay", [ "util-object", "util-array", "geo.latLng" ], function(t, e, r) {
"use strict";
_i_("d0b:44");
var i = "map-overlay-", n = "map-overlay-rendered";
function o(t) {
_i_("d0b:229");
for (var e = t.options.queue; e.length; ) t.render(e.pop());
_r_();
}
function _(t) {
_i_("d0b:230");
var e = t.options.type, r = t.getPanes();
switch (!0) {
case "map" === e:
return _r_(r.mapPane);

case "overlay" === e:
return _r_(r.overlayLayer);

case "marker" === e:
return _r_(r.markerLayer);

default:
return _r_(r.floatPane);
}
_r_();
}
function s(t) {
_i_("d0b:231");
var e = t.domNode;
return e || (e = document.createElement("div"), e.innerHTML = t.content, e.style.position = "absolute"), e.id = t.id, e.className = [ e.className || "", n ].join(" "), _r_(e);
}
function a(e, r) {
_i_("d0b:232"), this.options = t.extend({
ubber:r,
queue:[],
items:[],
type:"float"
}, e), t.extend(this, new google.maps.OverlayView()), this.setMap(r.Interface.map), _r_();
}
return a.prototype.onAdd = function() {
_i_("d0b:339"), o(this), _r_();
}, a.prototype.render = function(t) {
_i_("d0b:340");
var e = this.options, r = e.items, i = s(t || {});
return e.overlayNode = e.overlayNode || _(this), e.overlayNode.appendChild(i), this.position(t, i), r.push({
id:t.id,
options:t,
domNode:i
}), "function" == typeof t.resolve && t.resolve({
id:t.id,
options:t,
domNode:i,
Overlay:this
}), _r_(t.id);
}, a.prototype.position = function(t, e) {
_i_("d0b:341");
var i, n, o, _ = this.getProjection(), s = google.maps;
_ && (i = t.coordinates instanceof r ? new s.LatLng(t.coordinates.lat, t.coordinates.lng) :t.coordinates instanceof s.LatLng ? t.coordinates :new s.LatLng(t.coordinates[0], t.coordinates[1]), n = _.fromLatLngToDivPixel(i), o = e.offsetWidth, t.direction ? e.style.left = n.x + "px" :e.style.left = n.x - o / 2 + "px", e.style.top = n.y + "px"), _r_();
}, a.prototype.add = function(e) {
_i_("d0b:342");
var r = this.options, n = this.options.queue;
return e.id = e.id || t.uniqueId(i), r.overlayNode ? this.render(e) :(e.id = t.uniqueId(i), n.push(e)), _r_(e.id);
}, a.prototype.remove = function(t) {
_i_("d0b:343");
var r, i, n = this.options.items, o = this.options.overlayNode;
r = e.findIndex(n, function(e) {
return _i_("d0b:539"), _r_(e.id === t);
}), r > -1 && (i = n.splice(r, 1)[0]), o && i && o.contains(i.domNode) && o.removeChild(i.domNode), _r_();
}, a.prototype.removeAll = function() {
_i_("d0b:344");
for (var t, e = this.options.items, r = this.options.overlayNode; r && e.length; ) t = e.pop().domNode, r.contains(t) && r.removeChild(t);
this.options.items = [], _r_();
}, a.prototype.draw = function() {
_i_("d0b:345");
var t, e = this;
o(this), t = this.options.items, t.forEach(function(t) {
_i_("d0b:523"), e.position(t.options, t.domNode), _r_();
}), _r_();
}, a.prototype.onRemove = function() {
_i_("d0b:346");
for (var t = this.options.items, e = this.options.overlayNode; e && t.length; ) e.removeChild(t.pop().domNode);
_r_();
}, a.prototype.getRenderedItems = function() {
return _i_("d0b:347"), _r_(this.options.items);
}, _r_({
Overlay:a
});
}), B.atlas.define("provider-google-place-util", [ "util-object", "geo.latLng", "util-array" ], function(t, e, r) {
"use strict";
_i_("d0b:45");
function i(t, e) {
_i_("d0b:233");
var i, n = "", o = Number.POSITIVE_INFINITY;
return r.each(e, function(e) {
_i_("d0b:451"), i = r.findIndex(t, function(t) {
return _i_("d0b:565"), _r_(e === t);
}), i > -1 && o > i && (o = i, n = t[o]), _r_();
}), _r_(n);
}
function n(t) {
_i_("d0b:234");
var r = t.geometry && t.geometry.location ? t.geometry.location :new google.maps.LatLng(0, 0), n = new e(r.lat(), r.lng()), o = t.query || "";
return o && o.types && (t.type = i(t.types || [], o.types)), _r_({
id:t.place_id,
source:"google",
coordinates:n,
location:r,
data:t
});
}
function o(e) {
_i_("d0b:235");
var r = google.maps, i = t.extend({
position:this.get("location")
}, e || {}), n = i.icon;
return n && (i.icon = {
url:n.url,
size:new r.Size(n.w, n.h),
origin:new r.Point(n.x, n.y)
}, n.z && (i.zIndex = n.z)), _r_(i);
}
function _(t, e, r) {
_i_("d0b:236");
var i, n, o, _ = t[0];
for (i = 0, n = t.length; n > i; ++i) if (o = t[i], _.ratio = o.width / o.height, _.maxWidth = Math.ceil(r * _.ratio), _.maxHeight = r, _.maxWidth < e && (_.maxWidth = e, _.maxHeight = Math.ceil(e / _.ratio)), _.maxWidth <= o.width && _.maxHeight <= o.height) {
_ = o;
break;
}
return _r_(_);
}
function s(t) {
_i_("d0b:237");
var e = google.maps.event, r = this;
e.addListener(t, "click", function(t) {
_i_("d0b:452"), r.trigger("click", t), _r_();
}), e.addListener(t, "mouseover", function(t) {
_i_("d0b:453"), r.trigger("mouseover", t), _r_();
}), e.addListener(t, "mouseout", function(t) {
_i_("d0b:454"), r.trigger("mouseout", t), _r_();
}), _r_();
}
function a(t) {
_i_("d0b:238");
var e = google.maps.event, r = this;
e.addListener(t, "closeclick", function(t) {
_i_("d0b:455"), r.trigger("close", t), _r_();
}), _r_();
}
return _r_({
transform:n,
normalizeMarker:o,
setMarkerEvents:s,
setIWEvents:a,
getBestImage:_
});
}), B.atlas.define("provider-google-place", [ "pubsub", "provider-google-place-util", "util-object", "jQuery" ], function(t, e, r, i) {
"use strict";
_i_("d0b:46");
function n(i, n) {
_i_("d0b:239");
var o = e.transform(i), _ = this;
o.atlas = n, o.data && (o.data.getImage = function(t) {
return _i_("d0b:524"), _r_(_.getImage.call(_, t));
}), r.extend(this, t.call(this)), this.get = function(t) {
return _i_("d0b:456"), _r_(t ? o[t] :o.data);
}, this.set = function(t, e) {
if (_i_("d0b:457"), t) return o[t] = e, _r_(e);
return _r_(void 0);
}, _r_();
}
return n.prototype.extend = function(t) {
return _i_("d0b:348"), this.set("data", r.extend(this.get("data") || {}, t)), _r_(this);
}, n.prototype.render = function(t) {
_i_("d0b:349"), this.get("atlas").Interface.map ? this.renderMarker(t) :this.renderHTML(t), this.set("isRendered", !0), _r_();
}, n.prototype.renderMarker = function(t) {
_i_("d0b:350");
var r = this.get("marker"), i = this.get("atlas").Interface.map, n = google.maps, o = e.normalizeMarker.call(this, t);
if (!i) return _r_();
r ? (r.setOptions(o), r.setMap(i)) :(r = new n.Marker(o), r.setMap(i), e.setMarkerEvents.call(this, r), this.set("marker", r)), this.set("isRendered", !0), _r_();
}, n.prototype.renderHTML = function(t) {
_i_("d0b:351");
var e = this.get("$domNode"), r = i(this.get("atlas").get("resultsNode")), n = t.className, o = t.content || "";
e ? e.html(o) :(e = this.set("$domNode", i('<div class="' + n + '"/>')), e.html(o), r.append(e)), _r_();
}, n.prototype.remove = function() {
_i_("d0b:352"), this.get("atlas") && this.get("atlas").Interface.map ? this.removeMarker() :this.removeHTML(), this.set("isRendered", !1), _r_();
}, n.prototype.removeMarker = function() {
_i_("d0b:353");
var t = this.get("marker");
t && (t.setMap(null), t.set("marker", null)), _r_();
}, n.prototype.removeHTML = function() {
_i_("d0b:354"), i(this.get("$domNode")).remove(), this.set("$domNode", null), _r_();
}, n.prototype.getImage = function(t) {
_i_("d0b:355");
var r, i = this.get("data"), n = t ? t.width :80, o = t ? t.height :80;
if (!i || !i.photos || !i.photos.length) return _r_(!1);
return r = e.getBestImage(i.photos, n, o), _r_({
attribution:r.html_attributions || "",
url:r.getUrl(r),
width:r.width,
height:r.height,
layout:r.ratio >= 1 ? "landscape" :"portrait"
});
}, n.prototype.getDetails = function(t) {
_i_("d0b:356");
var e = this.get("atlas"), r = this.get("id");
e.getPlaceDetails({
placeId:r
}, t, this), _r_();
}, n.prototype.getMarkerConfig = function(t) {
_i_("d0b:357");
var e, i = this.get("coordinates");
return e = {
b_id:this.get("id"),
b_latitude:i.lat,
b_longitude:i.lng,
data:this.get("data")
}, r.extend(e, t), _r_(e);
}, n.prototype.open = function(t) {
_i_("d0b:358");
var i = this.get("iw"), n = this.get("marker"), o = this.get("atlas").Interface.map, _ = r.extend({}, t || {});
if (!o) return _r_();
i ? i.setOptions(_) :(i = new google.maps.InfoWindow(_), e.setIWEvents.call(this, i), this.set("iw", i)), i && n && i.open(o, n), _r_();
}, n.prototype.close = function() {
_i_("d0b:359");
var t = this.get("iw");
return _r_(t ? t.close() :!1);
}, _r_(n);
}), B.atlas.define("provider-google-places", [ "jQuery", "util-array", "geo.latLng", "provider-google-place" ], function(t, e, r, i) {
"use strict";
_i_("d0b:47");
function n(t, r, n) {
_i_("d0b:240");
var o = [], _ = n.exclude || [];
return e.each(t, function(t) {
_i_("d0b:458");
var s = !1;
e.each(_, function(r) {
_i_("d0b:550"), e.contains(t.types || [], r) && (s = !0), _r_();
}), !s && t.geometry && t.geometry.location && (t.query = n, o.push(new i(t, r))), _r_();
}), _r_(o);
}
function o(t) {
_i_("d0b:241");
var i, n, o = google.maps, _ = t.bounds, s = t.location;
return _ && (i = _.getNorthEast(), n = _.getSouthWest(), t.bounds = new o.LatLngBounds(new o.LatLng(n.lat, n.lng), new o.LatLng(i.lat, i.lng))), s instanceof r ? t.location = new o.LatLng(s.lat, s.lng) :e.isArray(s) && 2 === s.length && (t.location = new o.LatLng(s[0], s[1])), _r_(t);
}
function _() {
_i_("d0b:242");
var t = this.ubber, e = this.map || t.get("attributionNode");
return _r_(t.get("placesService") || t.set("placesService", new google.maps.places.PlacesService(e)));
}
function s() {
_i_("d0b:243");
var t = this.ubber;
return _r_(t.get("GeocodeService") || t.set("GeocodeService", new google.maps.Geocoder()));
}
function a(e, r, i) {
_i_("d0b:244");
var _ = this.ubber, s = this.getPlacesService();
if (_.trigger("places-search", e), !e || !r || !e.location && !e.bounds) return _r_();
e = o(e), t.get("/gapi_monitor", {
type:"places_nearby_search"
}), s.nearbySearch(e, function(t, o, s) {
_i_("d0b:459");
var a;
t && o === google.maps.places.PlacesServiceStatus.OK ? (a = n(t, _, e), a && a.length && r.call(i || _, a, s), _.trigger("places-search-success", a, s)) :_.trigger("places-search-fail", t), _r_();
}), _r_();
}
function d(e, r, n) {
_i_("d0b:245");
var o = this.ubber, _ = this.getPlacesService(), s = "object" == typeof r, a = {
success:s && r.success ? r.success :r,
error:s && r.error ? r.error :function() {}
};
o.trigger("places-details", e), t.get("/gapi_monitor", {
type:"places_details"
}), _.getDetails(e, function(t, e) {
_i_("d0b:460");
var r, _ = "fail";
e === google.maps.places.PlacesServiceStatus.OK && t ? (r = n instanceof i ? n.extend(t) :new i(t, o), a.success.call(n || o, r), _ = "success") :a.error.call(n || o, e, _, t), n && n.trigger && n.trigger("place-details-" + _, r), o.trigger("places-details-" + _, r), _r_();
}), _r_();
}
function c(r, i) {
_i_("d0b:246");
var n = this.ubber, o = this.getGeocodeService(), _ = "object" == typeof i, s = {
success:_ && i.success ? i.success :i,
error:_ && i.error ? i.error :function() {}
};
n.trigger("geocode-details", r), t.get("/gapi_monitor", {
type:"geocoding"
}), o.geocode(r, function(t, r) {
_i_("d0b:461"), r === google.maps.GeocoderStatus.OK && e.isArray(t) && t[0] ? s.success.call(n, t[0]) :s.error.call(n, r, "fail", t), _r_();
}), _r_();
}
function l() {
return _i_("d0b:247"), _r_(!!(google && google.maps && google.maps.places));
}
return _r_({
checkPlacesApi:l,
getPlacesService:_,
getPlaceDetails:d,
getGeocodeService:s,
getGeocodeDetails:c,
searchPlaces:a
});
}), B.atlas.define("provider-google-polygons", [ "jQuery" ], function(t) {
"use strict";
_i_("d0b:48");
var e = [];
function r(e) {
return _i_("d0b:248"), _r_(t.map(e, function(t) {
return _i_("d0b:462"), _r_(new google.maps.LatLng(t[0], t[1]));
}));
}
function i(e, i) {
_i_("d0b:249");
var n = {};
t.extend(n, e, {
paths:r(e.paths),
map:i.map
}), this.ubber = i, this.core = new google.maps.Polygon(n), _r_();
}
return i.prototype = {
setOptions:function(e) {
_i_("d0b:463");
var i = {};
return e.paths && (e.paths = r(e.paths)), t.extend(i, e), this.core.setOptions(i), _r_(this);
},
getCenter:function() {
_i_("d0b:464");
var t, e = new google.maps.LatLngBounds();
return this.core.getPath().forEach(function(t) {
_i_("d0b:551"), e.extend(t), _r_();
}), t = e.getCenter(), _r_([ t.lat(), t.lng() ]);
},
on:function(t, r) {
_i_("d0b:465");
var i = this;
return e.push({
context:this,
evt:t,
handler:r,
listener:google.maps.event.addListener(this.core, t, function(e) {
_i_("d0b:583");
var n = {};
e.latLng && (n.latLng = [ e.latLng.lat(), e.latLng.lng() ]), i.ubber.ubber.trigger("polygon-" + t, n), r.call(i, n), _r_();
})
}), _r_(this);
},
off:function(t, r) {
_i_("d0b:466");
for (var i, n, o = e.length; o--; ) if (i = e[o], i.context === this && i.evt === t && i.handler === r) {
n = e.splice(o, 1), 1 === n.length && n[0].listener && n[0].listener.remove();
break;
}
return _r_(this);
},
setPaths:function(t) {
return _i_("d0b:467"), this.core.setPaths(r(t)), _r_(this);
},
hide:function() {
return _i_("d0b:468"), this.core.setVisible(!1), _r_(this);
},
show:function() {
return _i_("d0b:469"), this.core.setVisible(!0), _r_(this);
},
remove:function() {
_i_("d0b:470");
for (var t, r = e.length; r--; ) e[r].context === this && (t = e.splice(r, 1), 1 === t.length && t[0].listener && t[0].listener.remove());
return this.core.setMap(null), _r_(this);
}
}, _r_({
Polygon:i
});
}), B.atlas.define("provider-google-style", function() {
"use strict";
return _i_("d0b:49"), _r_({
setStyle:function(t) {
_i_("d0b:368"), this.map.setOptions({
styles:t
}), _r_();
}
});
}), B.atlas.define("provider-google-overlay-marker", [ "util-object" ], function(t) {
"use strict";
_i_("d0b:50");
var e = {
TOP_LEFT:1,
TOP:2,
TOP_RIGHT:3,
LEFT:4,
MIDDLE:5,
RIGHT:6,
BOTTOM_LEFT:7,
BOTTOM:8,
BOTTOM_RIGHT:9
}, r = B.require("promise"), i = B.atlas.getVariant_v2("ebccCcCcCWNBMdUHT") || B.atlas.getVariant_v2("ebcZTLBGOHGYZUeQXO");
function n(t) {
_i_("d0b:250");
var n = this;
t = t || {}, this._ready = !1, this._dragging = !1, void 0 == t.visible && (t.visible = !0), void 0 == t.anchor && (t.anchor = e.BOTTOM), this.promise = new r(function(t, e) {
_i_("d0b:510"), google.maps.event.addListener(n, "ready", function() {
_i_("d0b:566"), t(this), _r_();
}), _r_();
}), this.setValues(t), this.lazyDimensions = i, _r_();
}
function o() {
return _i_("d0b:251"), _r_(this.get("visible"));
}
function _(t) {
_i_("d0b:252"), this.set("visible", t), _r_();
}
function s() {
_i_("d0b:253"), this._ready && (this._markerWrapper.style.display = this.getVisible() ? "" :"none", this.draw()), _r_();
}
function a(t) {
_i_("d0b:254"), this.set("flat", !!t), _r_();
}
function d() {
_i_("d0b:255"), this.get("flat"), _r_();
}
function c() {
if (_i_("d0b:256"), this.lazyDimensions) {
var t = this._markerContent.offsetWidth;
t != this.get("width") && this.set("width", t);
}
return _r_(this.get("width"));
}
function l() {
if (_i_("d0b:257"), this.lazyDimensions) {
var t = this._markerContent.offsetHeight;
t != this.get("height") && this.set("height", t);
}
return _r_(this.get("height"));
}
function u(t) {
_i_("d0b:258"), this.set("shadow", t), this.flat_changed(), _r_();
}
function h() {
return _i_("d0b:259"), _r_(this.get("shadow"));
}
function g() {
if (_i_("d0b:260"), !this._ready) return _r_();
this._markerWrapper.style.boxShadow = this._markerWrapper.style.webkitBoxShadow = this._markerWrapper.style.mozBoxShadow = this.getFlat() ? "" :this.getShadow(), _r_();
}
function f(t) {
_i_("d0b:261"), this.set("zIndex", t), _r_();
}
function p() {
return _i_("d0b:262"), _r_(this.get("zIndex"));
}
function b() {
_i_("d0b:263"), this.getZIndex() && this._ready && (this._markerWrapper.style.zIndex = this.getZIndex()), _r_();
}
function m() {
return _i_("d0b:264"), _r_(this.get("draggable"));
}
function v(t) {
_i_("d0b:265"), this.set("draggable", !!t), _r_();
}
function y() {
_i_("d0b:266"), this._ready && (this.getDraggable() ? this._addDragging(this._markerWrapper) :this._removeDragListeners()), _r_();
}
function k() {
return _i_("d0b:267"), _r_(this.get("position"));
}
function w(t) {
_i_("d0b:268"), this.set("position", t), _r_();
}
function L() {
_i_("d0b:269"), this.draw(), _r_();
}
function I() {
return _i_("d0b:270"), _r_(this.get("anchor"));
}
function M(t) {
_i_("d0b:271"), this.set("anchor", t), _r_();
}
function x() {
_i_("d0b:272"), this.draw(), _r_();
}
function O(t) {
_i_("d0b:273");
var e, r = document.createElement("DIV");
if (r.innerHTML = t, 1 == r.childNodes.length) return _r_(r.removeChild(r.firstChild));
for (e = document.createDocumentFragment(); r.firstChild; ) e.appendChild(r.firstChild);
return _r_(e);
}
function T(t) {
if (_i_("d0b:274"), !t) return _r_();
for (var e = t.firstChild; e; ) t.removeChild(e), e = t.firstChild;
_r_();
}
function C(t) {
_i_("d0b:275"), this.set("content", t), _r_();
}
function P() {
return _i_("d0b:276"), _r_(this.get("content"));
}
function S() {
if (_i_("d0b:277"), !this._markerContent) return _r_();
this._removeChildren(this._markerContent);
var t = this.getContent();
t && ("string" == typeof t && (t = t.replace(/^\s*([\S\s]*)\b\s*$/, "$1"), t = this._htmlToDocumentFragment(t)), this._markerContent.appendChild(t), google.maps.event.trigger(this, "domready")), this._ready && this.draw(), _r_();
}
function E(t) {
if (_i_("d0b:278"), !this._ready) return _r_();
var e = "";
navigator.userAgent.indexOf(!0) ? ("dragging" == t && (e = "-moz-grabbing"), "dragready" == t && (e = "-moz-grab"), "draggable" == t && (e = "pointer")) :(("dragready" == t || "dragging" == t) && (e = "move"), "draggable" == t && (e = "pointer")), this._markerWrapper.style.cursor != e && (this._markerWrapper.style.cursor = e), _r_();
}
function N(t) {
if (_i_("d0b:279"), !this.getDraggable()) return _r_();
if (!this._dragging) {
this._dragging = !0;
var e = this.getMap();
this._mapDraggable = e.get("draggable"), e.set("draggable", !1), this._mouseX = t.clientX, this._mouseY = t.clientY, this._setCursor("dragready"), this._markerWrapper.style.MozUserSelect = "none", this._markerWrapper.style.KhtmlUserSelect = "none", this._markerWrapper.style.WebkitUserSelect = "none", this._markerWrapper.unselectable = "on", this._markerWrapper.onselectstart = function() {
return _i_("d0b:525"), _r_(!1);
}, this._addDraggingListeners(), google.maps.event.trigger(this, "dragstart");
}
_r_();
}
function W() {
if (_i_("d0b:280"), !this.getDraggable()) return _r_();
this._dragging && (this._dragging = !1, this.getMap().set("draggable", this._mapDraggable), this._mouseX = this._mouseY = this._mapDraggable = null, this._markerWrapper.style.MozUserSelect = "", this._markerWrapper.style.KhtmlUserSelect = "", this._markerWrapper.style.WebkitUserSelect = "j", this._markerWrapper.unselectable = "off", this._markerWrapper.onselectstart = function() {}, this._removeDraggingListners(), this._setCursor("draggable"), google.maps.event.trigger(this, "dragend"), this.draw()), _r_();
}
function z(t) {
if (_i_("d0b:281"), !this.getDraggable() || !this._dragging) return this.stopDrag(), _r_();
var e = this._mouseX - t.clientX, r = this._mouseY - t.clientY, i = parseInt(this._markerWrapper.style.left, 10) - e, n = parseInt(this._markerWrapper.style.top, 10) - r;
this._markerWrapper.style.left = i + "px", this._markerWrapper.style.top = n + "px";
var o = this._getOffset(), _ = new google.maps.Point(i - o.width, n - o.height), s = this.getProjection();
this.setPosition(s.fromDivPixelToLatLng(_)), this._setCursor("dragging"), google.maps.event.trigger(this, "drag"), _r_();
}
function A() {
_i_("d0b:282"), this._draggableListner && (google.maps.event.removeListener(this._draggableListner), delete this._draggableListner), this._setCursor(""), _r_();
}
function D(t) {
if (_i_("d0b:283"), !t) return _r_();
var e = this;
this._draggableListner = google.maps.event.addDomListener(t, "mousedown", function(t) {
_i_("d0b:511"), e.startDrag(t), _r_();
}), this._setCursor("draggable"), _r_();
}
function R() {
_i_("d0b:284");
var t = this;
this._markerWrapper.setCapture ? (this._markerWrapper.setCapture(!0), this._draggableListner = [ google.maps.event.addDomListener(this._markerWrapper, "mousemove", function(e) {
_i_("d0b:552"), t.drag(e), _r_();
}, !0), google.maps.event.addDomListener(this._markerWrapper, "mouseup", function() {
_i_("d0b:553"), t.stopDrag(), t._markerWrapper.releaseCapture(), _r_();
}, !0) ]) :this._draggingListeners = [ google.maps.event.addDomListener(window, "mousemove", function(e) {
_i_("d0b:554"), t.drag(e), _r_();
}, !0), google.maps.event.addDomListener(window, "mouseup", function() {
_i_("d0b:555"), t.stopDrag(), _r_();
}, !0) ], _r_();
}
function j() {
if (_i_("d0b:285"), this._draggableListner) {
for (var t = 0, e = this._draggableListner[0]; e; t++) google.maps.event.removeListener(e), e = this._draggableListner[t];
this._draggingListeners.length = 0;
}
_r_();
}
function Z() {
_i_("d0b:286");
var t = this.getAnchor();
if ("object" == typeof t) return _r_(t);
var r = new google.maps.Size(0, 0);
if (!this._markerContent) return _r_(r);
var i, n;
switch (this.lazyDimensions ? (this._contentHeight && this._contentWidth || (this._contentHeight = this._markerContent.offsetHeight, this._contentWidth = this._markerContent.offsetWidth), n = this._contentHeight, i = this._contentWidth) :(i = this._markerContent.offsetWidth, n = this._markerContent.offsetHeight), t) {
case e.TOP_LEFT:
break;

case e.TOP:
r.width = -i / 2;
break;

case e.TOP_RIGHT:
r.width = -i;
break;

case e.LEFT:
r.height = -n / 2;
break;

case e.MIDDLE:
r.width = -i / 2, r.height = -n / 2;
break;

case e.RIGHT:
r.width = -i, r.height = -n / 2;
break;

case e.BOTTOM_LEFT:
r.height = -n;
break;

case e.BOTTOM:
r.width = -i / 2, r.height = -n;
break;

case e.BOTTOM_RIGHT:
r.width = -i, r.height = -n;
}
return _r_(r);
}
function H(t) {
_i_("d0b:287");
var e = {
BOUNCE:1,
DROP:2
};
if (!this._markerWrapper) return _r_();
t === e.DROP ? $(this._markerWrapper).addClass("marker-effect-rain").find(".marker-effect-rain-start").removeClass("marker-effect-rain-start") :t === e.BOUNCE ? $(this._markerWrapper).addClass("marker-effect-bounce").removeClass("marker-effect-rain") :$(this._markerWrapper).removeClass("marker-effect-bounce marker-effect-rain"), _r_();
}
function V() {
if (_i_("d0b:288"), this._markerWrapper || (this._markerWrapper = document.createElement("DIV"), this._markerWrapper.style.position = "absolute"), this.getZIndex() && (this._markerWrapper.style.zIndex = this.getZIndex()), this._markerWrapper.style.display = this.getVisible() ? "" :"none", !this._markerContent) {
this._markerContent = document.createElement("DIV"), this._markerWrapper.appendChild(this._markerContent);
var t = this;
google.maps.event.addDomListener(this._markerContent, "click", function(e) {
_i_("d0b:527"), google.maps.event.trigger(t, "click", e), _r_();
}), google.maps.event.addDomListener(this._markerContent, "mouseover", function(e) {
_i_("d0b:528"), google.maps.event.trigger(t, "mouseover", e), _r_();
}), google.maps.event.addDomListener(this._markerContent, "mouseout", function(e) {
_i_("d0b:529"), google.maps.event.trigger(t, "mouseout", e), _r_();
}), google.maps.event.addDomListener(this._markerContent, "touchmove", function(t) {
_i_("d0b:530"), t.preventDefault(), _r_();
});
}
this._ready = !0, this.content_changed(), this.flat_changed(), this.draggable_changed();
var e = this.getPanes();
e && e.overlayMouseTarget.appendChild(this._markerWrapper), google.maps.event.trigger(this, "ready"), _r_();
}
function G() {
if (_i_("d0b:289"), !this._ready || this._dragging) return _r_();
var t = this.getProjection();
if (!t) return _r_();
var e = this.get("position"), r = t.fromLatLngToDivPixel(e), i = this._getOffset();
if (this._markerWrapper.style.top = r.y + i.height + "px", this._markerWrapper.style.left = r.x + i.width + "px", !this.lazyDimensions) {
var n = this._markerContent.offsetHeight, o = this._markerContent.offsetWidth;
o != this.get("width") && this.set("width", o), n != this.get("height") && this.set("height", n);
}
_r_();
}
function U() {
_i_("d0b:290"), this._markerContent && this._markerContent.parentNode && this._markerContent.parentNode.removeChild(this._markerContent), this._markerWrapper && this._markerWrapper.parentNode && this._markerWrapper.parentNode.removeChild(this._markerWrapper), this._removeDraggingListners(), _r_();
}
function q(t) {
return _i_("d0b:291"), _r_($(this._markerContent).find("div:first").addClass(t));
}
function F(t) {
return _i_("d0b:292"), _r_($(this._markerContent).find("div:first").removeClass(t));
}
return n.init = function() {
if (_i_("d0b:360"), n._isInitialized) return _r_();
n.prototype = new google.maps.OverlayView(), t.extend(n.prototype, {
getVisible:o,
setVisible:_,
visible_changed:s,
setFlat:a,
getFlat:d,
getWidth:c,
getHeight:l,
setShadow:u,
getShadow:h,
flat_changed:g,
setZIndex:f,
getZIndex:p,
zIndex_changed:b,
getDraggable:m,
setDraggable:v,
draggable_changed:y,
getPosition:k,
setPosition:w,
position_changed:L,
getAnchor:I,
setAnchor:M,
anchor_changed:x,
_htmlToDocumentFragment:O,
_removeChildren:T,
setContent:C,
getContent:P,
content_changed:S,
_setCursor:E,
startDrag:N,
stopDrag:W,
drag:z,
_removeDragListeners:A,
_addDragging:D,
_addDraggingListeners:R,
_removeDraggingListners:j,
_getOffset:Z,
onAdd:V,
draw:G,
onRemove:U,
setOptions:function(t) {
_i_("d0b:556");
var e = {
pointer:"pointer",
move:"move",
"default":"default"
};
t.cursor && e[t.cursor] && this._ready && (this._markerWrapper.style.cursor = e[t.cursor], delete t.cursor), this.setValues(t), _r_();
},
setAnimation:H,
setMarkerClass:q,
removeMarkerClass:F
}), n._isInitialized = !0, _r_();
}, _r_(n);
}), B.atlas.define("provider-google-directions", [ "util-array" ], function(t) {
"use strict";
_i_("d0b:51");
var e = function() {
return _i_("d0b:361"), this._directionsService || (this._directionsService = new google.maps.DirectionsService()), _r_(this._directionsService);
}, r = function() {
return _i_("d0b:362"), this._directionsRenderer ? null === this._directionsRenderer.getMap() && this._directionsRenderer.setMap(this.map) :(this._directionsRenderer = new google.maps.DirectionsRenderer(), this._directionsRenderer.setMap(this.map)), _r_(this._directionsRenderer);
}, i = function(t, e) {
return _i_("d0b:363"), t.origin instanceof Array && (t.origin = new google.maps.LatLng(t.origin[0], t.origin[1])), t.destination instanceof Array && (t.destination = new google.maps.LatLng(t.destination[0], t.destination[1])), _r_(this.directionsService().route(t, e));
};
return _r_({
directionsService:e,
directionsRenderer:r,
directionsServiceRoute:i
});
}), B.atlas.define("provider-google-transit-layer", function() {
"use strict";
_i_("d0b:52");
function t(t, e) {
_i_("d0b:293"), this.map = e.map, this.transitLayer = new google.maps.TransitLayer(t), _r_();
}
return t.prototype = {
add:function() {
_i_("d0b:471"), this.transitLayer.setMap(this.map), _r_();
},
remove:function() {
_i_("d0b:472"), this.transitLayer.setMap(null), _r_();
},
setOptions:function(t) {
_i_("d0b:473"), this.transitLayer.setOptions(t), _r_();
}
}, _r_({
TransitLayer:t
});
}), B.atlas.define("provider-google", [ "jQuery", "util-env", "provider-loader-v2", "provider-google-events", "provider-google-markers", "provider-google-bounds", "provider-google-center", "provider-google-options", "provider-google-iw", "provider-google-offset", "provider-google-polygons", "provider-google-circles", "provider-google-places", "provider-google-overlay", "provider-google-autocomplete", "provider-google-style", "provider-google-directions", "provider-google-transit-layer" ], function(t, e, r, i, n, o, _, s, a, d, c, l, u, h, g, f, p, b) {
"use strict";
_i_("d0b:53");
var m = e.get("googleMapsUrl"), v = !1;
function y(t) {
return _i_("d0b:294"), _r_(t instanceof Array ? t :!1);
}
function k(e, r) {
_i_("d0b:295"), this.markers = [], (B.atlas.getVariant_v2("ebccCcCcCWNBMdUHT") || B.atlas.getVariant_v2("ebcZTLBGOHGYZUeQXO")) && (this.markersHash = {});
var n = google.maps, o = t(e.domNode).get(0), _ = {
zoom:e.zoom,
center:new n.LatLng(e.center[0], e.center[1]),
styles:r.STYLES || [],
mapTypeControl:e.hasOwnProperty("mapTypeControl") ? e.mapTypeControl :!0,
maxZoom:e.maxZoom || 20,
minZoom:e.minZoom || 1,
streetViewControl:e.streetView || !1,
mapTypeId:e.mapTypeId ? e.mapTypeId :n.MapTypeId.ROADMAP,
panControl:e.hasOwnProperty("panControl") ? e.panControl :!0,
zoomControl:e.hasOwnProperty("zoomControl") ? e.zoomControl :!0,
scaleControl:e.hasOwnProperty("scaleControl") ? e.scaleControl :!0,
scrollwheel:e.hasOwnProperty("scrollwheel") ? e.scrollwheel :!0,
clickableIcons:e.hasOwnProperty("clickableIcons") ? e.clickableIcons :!0,
panControlOptions:{
position:e.hasOwnProperty("panPosition") && n.ControlPosition.hasOwnProperty(e.panPosition) ? n.ControlPosition[e.panPosition] :n.ControlPosition.TOP_LEFT
},
zoomControlOptions:{
style:e.hasOwnProperty("zoomStyle") && n.ZoomControlStyle.hasOwnProperty(e.zoomStyle) ? n.ZoomControlStyle[e.zoomStyle] :n.ZoomControlStyle.DEFAULT,
position:e.hasOwnProperty("zoomPosition") && n.ControlPosition.hasOwnProperty(e.zoomPosition) ? n.ControlPosition[e.zoomPosition] :n.ControlPosition.TOP_LEFT
},
mapTypeControlOptions:{
position:e.hasOwnProperty("mapTypePosition") && n.ControlPosition.hasOwnProperty(e.mapTypePosition) ? n.ControlPosition[e.mapTypePosition] :n.ControlPosition.TOP_RIGHT,
mapTypeIds:y(e.mapTypes)
},
streetViewControlOptions:{
position:e.hasOwnProperty("mapTypePosition") && n.ControlPosition.hasOwnProperty(e.streetViewPosition) ? n.ControlPosition[e.streetViewPosition] :n.ControlPosition.RIGHT_CENTER
},
gestureHandling:e.hasOwnProperty("gestureHandling") ? e.gestureHandling :"greedy",
fullscreenControl:e.hasOwnProperty("fullscreenControl") ? e.gestureHandling :!1
};
r.set("minZoom", _.minZoom), r.set("maxZoom", _.maxZoom), e.boundingBox && t.extend(_, r.defineBounds(e.boundingBox, o)), n.visualRefresh = !0, this.ubber = r, this.map = new n.Map(o, _), i.setEvents.call(this), _r_();
}
t.extend(k.prototype, n, o, _, s, a, d, c, l, u, h, g, f, p, b);
function w(t, e) {
return _i_("d0b:296"), _r_(v ? Promise.resolve(new k(e, t)) :new r(m, t, "google").then(function() {
return _i_("d0b:531"), v = !0, _r_(new k(e, t));
}));
}
return _r_({
init:w
});
}), B.atlas.define("provider-leaflet", [ "jQuery", "util-env", "provider-loader-v2" ], function(t, e, r, i) {
"use strict";
_i_("d0b:54");
var n, o = e.get("leafletURL"), _ = !1;
function s(e, r) {
_i_("d0b:297");
var i = this;
this.markers = [], this.map = null, this.ubber = r, this.domNode = t(e.domNode).get(0), B.atlas.require([ "leaflet", "provider-leaflet-normalize", "provider-leaflet-events", "provider-leaflet-markers", "provider-leaflet-bounds", "provider-leaflet-center", "provider-leaflet-options", "provider-leaflet-iw", "provider-leaflet-offset", "provider-leaflet-polygons", "provider-leaflet-circles" ], function(r) {
_i_("d0b:474");
for (var n = [].slice.call(arguments, 0); n.length > 1; ) t.extend(i, n.pop());
i.initialize(r, e), _r_();
}), _r_();
}
s.prototype = {
initialize:function(t, e) {
_i_("d0b:475");
var r = this.normalizeOptions(e);
r.attributionControl = !1, n && n.remove(), this.map = t.map(this.domNode, r);
var i = t.control.attribution().addTo(this.map);
i.addAttribution("eMapgo - GS (" + new Date().getFullYear() + ") 336   Mapbox  OpenStreetMap"), n = this.map, this.setEvents(), r.mapTypeControl && t.atlasControlLayers(r.controlLayers, {
mapTypeId:r.mapTypeId
}).addTo(this.map), r.panControl !== !1 && t.panControl().addTo(this.map), (r.zoomPosition || r.zoomOptions) && (r.zoomOptions = r.zoomOptions || {}, this.configZoomControl("", r.zoomOptions.position || r.zoomPosition, r.zoomOptions)), r.scaleControl && this.configScaleControl(r.scaleControl), _r_();
}
};
function a(t, e) {
return _i_("d0b:298"), _r_(_ ? Promise.resolve(new s(e, t)) :new r(o, t, "leaflet").then(function() {
return _i_("d0b:532"), _ = !0, _r_(new s(e, t));
}));
}
return _r_({
init:a
});
}), B.atlas.define("provider-loader-v2", [ "jQuery", "util-env" ], function(t, e) {
"use strict";
_i_("d0b:55");
var r = e.get("killSwitch"), i = B.require("promise");
function n(t, e, r) {
return _i_("d0b:299"), _r_("google" === r ? this.append(t, "GLOBAL_ATLAS_GOOGLE_MAPS_CALLBACK", e) :this.get(t, e));
}
n.prototype.append = function(t, e, n) {
_i_("d0b:364");
var _ = this, s = document.createElement("script");
return _r_(new i(function(i, a) {
_i_("d0b:533"), r && a(), window[e] = function() {
_i_("d0b:574"), n.trigger(n.EVENTS.API_LOADED, n), _.isLoaded = !0, i(), _r_();
}, n.get("channel") && (t = o(t, "channel", n.get("channel"))), s.type = "text/javascript", s.src = t, document.body.appendChild(s), _.isLoading = !0, _r_();
}));
}, n.prototype.get = function(e, n) {
_i_("d0b:365");
var _ = this;
return _r_(new i(function(i, s) {
_i_("d0b:534"), r && s(), n.get("channel") && (e = o(e, "channel", n.get("channel"))), t.getScript(e, function() {
_i_("d0b:575"), n.trigger(n.EVENTS.API_LOADED, n), _.isLoaded = !0, i(), _r_();
}), _.isLoading = !0, _r_();
}));
};
function o(t, e, r) {
_i_("d0b:300");
var i = new RegExp("\\b(" + e + "=).*?(&|$)");
if (t.search(i) >= 0) return _r_(t.replace(i, "$1" + r + "$2"));
return _r_(t + (t.indexOf("?") > 0 ? "&" :"?") + e + "=" + r);
}
return _r_(n);
}), B.atlas.define("provider-loader", [ "jQuery", "util-env" ], function(t, e) {
"use strict";
_i_("d0b:56");
var r = e.get("killSwitch"), i = {};
function n(t, e) {
if (_i_("d0b:301"), i.hasOwnProperty(t)) return _r_(i[t]);
this.url = t, this.isLoading = !1, this.isLoaded = !1, this.stack = [], this.Interface = e, i[t] = this, _r_();
}
n.prototype = {
queue:function() {
_i_("d0b:476");
var t = [].slice.call(arguments, 0), e = "Atlas: failed to add interface to queue:";
if (4 !== t.length) return window.Error && B.reportError(new Error(), e + " not enough arguments"), _r_();
if (4 === t.length && "function" != typeof t[2]) return window.Error && B.reportError(new Error(), e + " third argument must be a function"), _r_();
this.isLoaded ? this.getInterface.apply(this, t) :this.stack.push(t), _r_();
},
get:function(e) {
_i_("d0b:477");
var i = this, n = this.url;
if (r) return _r_();
e.get("channel") && (n = o(n, "channel", e.get("channel"))), t.getScript(n, function() {
for (_i_("d0b:557"), e.trigger("api-load", e), i.isLoaded = !0; i.stack.length > 0; ) i.getInterface.apply(i, i.stack.pop());
_r_();
}), this.isLoading = !0, _r_();
},
append:function(t, e) {
_i_("d0b:478");
var i = document.createElement("script"), n = this, _ = n.url;
if (r) return _r_();
window[t] = function() {
for (_i_("d0b:558"), e.trigger("api-load", e), n.isLoaded = !0; n.stack.length > 0; ) n.getInterface.apply(n, n.stack.pop());
_r_();
}, e.get("channel") && (_ = o(_, "channel", e.get("channel"))), i.type = "text/javascript", i.src = _, document.body.appendChild(i), n.isLoading = !0, _r_();
},
getInterface:function(t, e, r, i) {
_i_("d0b:479"), i = i || this.Interface, r.call(t, new i(e, t)), _r_();
}
};
function o(t, e, r) {
_i_("d0b:302");
var i = new RegExp("\\b(" + e + "=).*?(&|$)");
if (t.search(i) >= 0) return _r_(t.replace(i, "$1" + r + "$2"));
return _r_(t + (t.indexOf("?") > 0 ? "&" :"?") + e + "=" + r);
}
return _r_(n);
}), B.atlas.define("provider-places", [ "provider-loader", "util-env", "util-object", "provider-google-autocomplete" ], function(t, e, r, i) {
"use strict";
_i_("d0b:57");
var n, o = e.get("googleMapsUrl");
function _(t, e) {
_i_("d0b:303");
var i = this;
i.ubber = e, B.atlas.require([ "provider-google-places" ], function() {
_i_("d0b:480");
for (var t = [].slice.call(arguments, 0); t.length > 0; ) r.extend(i, t.pop());
_r_();
}), _r_();
}
$.extend(_.prototype, i), n = new t(o, _);
function s(t, e, r) {
_i_("d0b:304"), n.isLoading || n.append("GLOBAL_ATLAS_GOOGLE_MAPS_CALLBACK", t), n.queue(t, e, r, _), _r_();
}
return _r_({
init:s
});
}), B.atlas.define("styles-cartography", function() {
"use strict";
_i_("d0b:58");
var t = [ {
featureType:"poi.business",
stylers:[ {
visibility:"off"
} ]
} ];
return _r_({
STYLES:t
});
}), B.atlas.define("styles-default", function() {
"use strict";
_i_("d0b:59");
var t = [ {
stylers:[ {
hue:"#feba02"
}, {
saturation:-60
} ]
}, {
featureType:"road",
elementType:"geometry",
stylers:[ {
lightness:50
}, {
visibility:"simplified"
} ]
}, {
featureType:"road",
elementType:"labels",
stylers:[ {
visibility:"off"
} ]
}, {
featureType:"water",
elementType:"all",
stylers:[ {
hue:"#003580"
}, {
visibility:"on"
} ]
}, {
featureType:"administrative.country",
elementType:"stroke",
stylers:[ {
color:"#f8f6ee"
}, {
weight:1
} ]
}, {
featureType:"administrative.country",
elementType:"labels.text",
stylers:[ {
color:"#001f54"
}, {
visibility:"on"
}, {
weight:.1
} ]
}, {
featureType:"administrative.province",
elementType:"geometry.stroke",
stylers:[ {
visibility:"on"
}, {
color:"#666666"
}, {
weight:.1
} ]
}, {
featureType:"administrative.locality",
elementType:"labels.text",
stylers:[ {
color:"#0053a7"
}, {
visibility:"on"
}, {
weight:.1
} ]
}, {
featureType:"administrative.locality",
elementType:"labels.icon",
stylers:[ {
color:"#0896ff"
} ]
}, {
featureType:"administrative.neighborhood",
stylers:[ {
visibility:"on"
} ]
}, {
featureType:"transit.line",
stylers:[ {
visibility:"off"
} ]
}, {
featureType:"poi",
elementType:"labels.text.fill",
stylers:[ {
color:"#666666"
} ]
}, {
featureType:"poi.business",
stylers:[ {
visibility:"off"
} ]
}, {
featureType:"poi.park",
stylers:[ {
visibility:"off"
}, {
color:"#00ff00"
}, {
saturation:-90
}, {
lightness:70
} ]
} ];
return _r_({
STYLES:t
});
}), B.atlas.define("styles-employee-map", function() {
"use strict";
_i_("d0b:60");
var t = [ {
featureType:"road",
elementType:"geometry",
stylers:[ {
lightness:50
}, {
visibility:"off"
} ]
}, {
featureType:"road",
elementType:"labels",
stylers:[ {
visibility:"off"
} ]
} ];
return _r_({
STYLES:t
});
}), B.atlas.define("transitLayer", function() {
"use strict";
_i_("d0b:61");
var t;
function e(e) {
_i_("d0b:305"), this.Interface.TransitLayer && (t = t || new this.Interface.TransitLayer(e, this.Interface), t.add()), _r_();
}
function r(e) {
_i_("d0b:306"), t && t.remove(), _r_();
}
return _r_({
addTransitLayer:e,
removeTransitLayer:r
});
}), booking.env.enable_scripts_tracking && (booking.env.scripts_tracking.atlas.run = !0);